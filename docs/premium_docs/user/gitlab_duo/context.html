<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># GitLab Duo Chat</title>
    <link rel="stylesheet" href="/../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: AI-powered
group: AI Framework
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: GitLab Duo contextual awareness</p>
<hr />
<p>Depending on which GitLab Duo feature you are using and where you are using it,
different information is available to help GitLab Duo make decisions and offer suggestions.</p>
<p>Information can be available:</p>
<ul>
<li>Always.</li>
<li>Based on your location (the context changes when you navigate).</li>
<li>When referenced explicitly. For example, you mention the information by URL, ID, or file path.</li>
</ul>
<h2>GitLab Duo Chat</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Current page title and URL <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/209186">added</a> in GitLab 18.6.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>The following context is available to GitLab Duo Chat.</p>
<h3>Always available</h3>
<ul>
<li>GitLab documentation.</li>
<li>General programming knowledge, best practices, and language specifics.</li>
<li>Content in the file you're viewing or editing, including code before and after your cursor.</li>
<li>When using Chat in the GitLab UI, the current page title and URL.</li>
<li>The <code>/refactor</code>, <code>/fix</code>, and <code>/tests</code> slash commands have access to the latest
  <a href="../project/repository/code_suggestions/repository_xray.html">Repository X-Ray report</a>.</li>
</ul>
<h3>Based on location</h3>
<p>When you have any of these resources open, GitLab Duo knows about them.</p>
<ul>
<li>Files (included with the <code>/include</code> command)</li>
<li>Code selected in a file</li>
<li>Issues (GitLab Duo Enterprise only)</li>
<li>Epics (GitLab Duo Enterprise only)</li>
<li><a href="../work_items/_index.md#work-item-types">Other work item types</a> (GitLab Duo Enterprise only)</li>
</ul>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>In the IDEs, secrets and sensitive values that match known formats are redacted before
they are sent to GitLab Duo Chat.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>In the UI, when you're in a merge request, GitLab Duo also knows about:</p>
<ul>
<li>The merge request itself (GitLab Duo Enterprise only).</li>
<li>Commits in the merge request (GitLab Duo Enterprise only).</li>
<li>The merge request pipeline's CI/CD jobs (GitLab Duo Enterprise only).</li>
</ul>
<h3>When referenced explicitly</h3>
<p>All of the resources that are available based on your location
are also available when you refer to them explicitly by their ID or URL.</p>
<h2>Software development flow</h2>
<p>The following context is available to the software development flow in GitLab Duo Agent Platform.</p>
<h3>Always available</h3>
<ul>
<li>General programming knowledge, best practices, and language specifics.</li>
<li>Your entire project and all of its files that are tracked by Git.</li>
<li>The GitLab <a href="../../api/search.html">Search API</a>, which is used to find related issues or merge requests.</li>
</ul>
<h3>Based on location</h3>
<ul>
<li>Files you have open in the IDE (close files if you do not want them used for context).</li>
</ul>
<h3>When referenced explicitly</h3>
<ul>
<li>Files</li>
<li>Epics</li>
<li>Issues</li>
<li>Merge requests</li>
<li>The merge request's pipelines</li>
</ul>
<h2>Code Suggestions</h2>
<p>The following context is available to Code Suggestions.</p>
<h3>Always available</h3>
<ul>
<li>General programming knowledge, best practices, and language specifics.</li>
<li>The name, extension, and content of the file you're viewing or editing,
  including content before and after your cursor.</li>
</ul>
<h3>Based on location</h3>
<ul>
<li>Files you have open in tabs in the IDE. Optional, but on by default.</li>
<li>These files provide GitLab Duo with information about the standards and practices in your project.</li>
<li>Close files if you do not want them used for context.</li>
<li>Code completion is aware of all <a href="../project/repository/code_suggestions/supported_extensions.md#supported-languages-by-ide">supported languages</a>.</li>
<li>Code generation is aware of files in these languages only:
    Go, Java, JavaScript, Kotlin, Python, Ruby, Rust, TypeScript (<code>.ts</code> and <code>.tsx</code> files), Vue, and YAML.</li>
<li>Files imported in the file you're viewing or editing. Optional, and off by default.</li>
<li>These files provide GitLab Duo with information about the classes and methods in your file.</li>
<li>Code selected in your editor.</li>
<li><a href="../project/repository/code_suggestions/repository_xray.html">Repository X-Ray files</a>.</li>
</ul>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Secrets and sensitive values that match known formats are redacted before
they are used to generate code.
This applies to files added by using <code>/include</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<h4>Change what Code Suggestions uses for context</h4>
<p>You can change whether or not Code Suggestions uses other files as context.</p>
<h5>Using open files as context</h5>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/464767">Introduced</a> in GitLab 17.1 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>advanced_context_resolver</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/462750">Introduced</a> in GitLab 17.1 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>code_suggestions_context</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp/-/issues/276">Introduced</a> in GitLab Workflow for VS Code 4.20.0.</li>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-jetbrains-plugin/-/issues/462">Introduced</a> in GitLab Duo for JetBrains 2.7.0.</li>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab.vim/-/merge_requests/152">Added</a> to the GitLab Neovim plugin on July 16, 2024.</li>
<li>Feature flags <code>advanced_context_resolver</code> and <code>code_suggestions_context</code> enabled on GitLab.com in GitLab 17.2 and on GitLab Self-Managed in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/462750">Generally available</a> in GitLab 18.6. Feature flag <code>code_suggestions_context</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>By default, Code Suggestions uses the open files in your IDE for context when making suggestions.
However, you can turn this setting off.</p>
<p>Prerequisites:</p>
<ul>
<li>GitLab 17.2 or later. Earlier GitLab versions that support Code Suggestions
  cannot weigh the content of open tabs more heavily than other files in your project.</li>
<li>A supported extension:</li>
<li>GitLab Workflow extension for VS Code 6.2.2 or later.</li>
<li>GitLab plugin for JetBrains IDEs 3.6.5 or later.</li>
<li>GitLab plugin for Neovim 1.1.0 or later.</li>
<li>GitLab extension for Visual Studio 0.51.0 or later.</li>
</ul>
<p>To change open files being used as context:</p>
<p>{{&lt; tabs &gt;}}</p>
<p>{{&lt; tab title="Visual Studio Code" &gt;}}</p>
<ol>
<li>On the top bar, go to <strong>Code</strong> &gt; <strong>Settings</strong> &gt; <strong>Extensions</strong>.</li>
<li>Search for GitLab Workflow in the list, and select the gear icon.</li>
<li>Select <strong>Settings</strong>.</li>
<li>In your <strong>User</strong> settings, search for <code>open tabs</code>.</li>
<li>Under <strong>GitLab</strong> &gt; <strong>Duo Code Suggestions: Open Tabs Context</strong>,
   select or clear <strong>Use the contents of open tabs as context</strong>.</li>
</ol>
<p>{{&lt; /tab &gt;}}</p>
<p>{{&lt; tab title="JetBrains IDEs" &gt;}}</p>
<ol>
<li>Go to your IDE's top menu bar and select <strong>Settings</strong>.</li>
<li>On the left sidebar, expand <strong>Tools</strong>, then select <strong>GitLab Duo</strong>.</li>
<li>Below <strong>Additional languages</strong>, select or clear <strong>Send open tabs as context</strong>.</li>
<li>Select <strong>Apply</strong> or <strong>Save</strong>.</li>
</ol>
<p>{{&lt; /tab &gt;}}</p>
<p>{{&lt; /tabs &gt;}}</p>
<h5>Using imported files as context</h5>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/514124">Introduced</a> in GitLab 17.9 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>code_suggestions_include_context_imports</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/514124">Enabled on GitLab.com, GitLab Self-Managed, and GitLab Dedicated</a> in GitLab 17.11.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Use the imported files in your IDE to provide context about your code project. Imported file context is supported for JavaScript and TypeScript files, including <code>.js</code>, <code>.jsx</code>, <code>.ts</code>, <code>.tsx</code>, and <code>.vue</code> file types.</p>
<h2>Exclude context from GitLab Duo</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Add-on: GitLab Duo Pro or Enterprise</li>
</ul>
<p>{{&lt; /details &gt;}}
{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/17124">Introduced</a> in GitLab 18.2 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>use_duo_context_exclusion</code>. Disabled by default.</li>
<li>Changed to beta in GitLab 18.4.</li>
<li>Enabled by default in GitLab 18.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>You can control which project content is excluded as context for GitLab Duo.
Use this feature to protect sensitive information, like password and configuration files.</p>
<p>When you exclude content, all GitLab Duo features, with the exception of <a href="../gitlab_duo_chat/_index.html">GitLab Duo Chat (Classic)</a>,
exclude this information as context.</p>
<h3>Manage GitLab Duo context exclusions</h3>
<p>To specify content that GitLab Duo excludes:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>General</strong>.</li>
<li>Under <strong>GitLab Duo</strong>, in the <strong>GitLab Duo context exclusions</strong> section, select <strong>Manage exclusions</strong>.</li>
<li>Specify which project files and directories are excluded from GitLab Duo context, and select <strong>Save exclusions</strong>.</li>
<li>Optional. To delete an existing exclusion, select <strong>Delete</strong> ({{&lt; icon name="remove" &gt;}}) for the appropriate exclusion.</li>
<li>Select <strong>Save changes</strong>.</li>
</ol></code></pre>
</body>
</html>
