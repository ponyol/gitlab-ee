<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Places you can add comments</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Code Review
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Use comments to discuss work, mention users, and suggest changes.
title: Comments and threads
description: Mentions, locked discussions, internal notes, and thread resolution.</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Free, Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Comments and threads on Wiki pages <a href="https://gitlab.com/groups/gitlab-org/-/epics/14461">introduced</a> in GitLab 17.7 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>wiki_comments</code>. Disabled by default.</li>
<li>Comments and threads on Wiki pages <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/502847">generally available</a> in GitLab 17.9. Feature flag <code>wiki_comments</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>GitLab encourages communication through comments, threads, and
<a href="../project/merge_requests/reviews/suggestions.html">suggesting changes for code</a>.
Comments support <a href="../markdown.html">Markdown</a> and <a href="../project/quick_actions.html">quick actions</a>.</p>
<p>Two types of comments are available:</p>
<ul>
<li>A standard comment.</li>
<li>A comment in a thread, which you can <a href="../project/merge_requests/_index.md#manage-comment-threads">resolve</a>.</li>
</ul>
<p>You can <a href="../project/merge_requests/reviews/suggestions.html">suggest code changes</a> in your commit diff comment,
which the user can accept through the user interface.</p>
<h2>Places you can add comments</h2>
<p>You can create comments in places like:</p>
<ul>
<li>Commit diffs.</li>
<li>Commits.</li>
<li>Designs.</li>
<li>Epics.</li>
<li>Issues.</li>
<li>Merge requests.</li>
<li>Snippets.</li>
<li>Tasks.</li>
<li>OKRs.</li>
<li>Wiki pages.</li>
</ul>
<p>Each object can have as many as 5,000 comments.</p>
<h2>Mentions</h2>
<p>You can mention a user or a group (including <a href="../group/subgroups/_index.md#mention-subgroups">subgroups</a>) in your GitLab
instance with <code>@username</code> or <code>@groupname</code>. GitLab notifies all mentioned users with to-do items and emails.
Users can change this setting for themselves in the <a href="../profile/notifications.html">notification settings</a>.</p>
<p>You can quickly see which comments involve you, because GitLab highlights
mentions for yourself (the current, authenticated user) in a different color.</p>
<h3>Mentioning all members</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="../../administration/feature_flags/_index.html">Flag</a> named <code>disable_all_mention</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/110586">introduced</a> in GitLab 16.1. Disabled by default. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/18442">Enabled on GitLab.com</a>.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Avoid mentioning <code>@all</code> in comments and descriptions. <code>@all</code> mentions more than
just the participants of the project, issue, or merge request, but all members
of that project's parent group. All these users receive an email notification
and a to-do item, and might interpret it as spam.</p>
<p>When you enable this feature flag, typing <code>@all</code> in comments and descriptions
results in plain text instead of mentioning all users.
When you disable this feature, existing <code>@all</code> mentions in the Markdown texts are unchanged,
and remain as links. Only future <code>@all</code> mentions appear as plain text.</p>
<p>Notifications and mentions can be disabled in
<a href="../group/manage.md#disable-email-notifications">a group's settings</a>.</p>
<h3>Mention a group in an issue or merge request</h3>
<p>When you mention a group in a comment, every member of the group gets a to-do item
added to their to-do list.</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>For merge requests, select <strong>Code</strong> &gt; <strong>Merge requests</strong>, and find your merge request.</li>
<li>For issues, select <strong>Plan</strong> &gt; <strong>Issues</strong>, and find your issue.</li>
<li>In a comment, type <code>@</code> followed by the user, group, or subgroup namespace.
   For example, <code>@alex</code>, <code>@alex-team</code>, or <code>@alex-team/marketing</code>.</li>
<li>Select <strong>Comment</strong>.</li>
</ol>
<p>GitLab creates a to-do item for all the group and subgroup members.</p>
<p>For more information on mentioning subgroups, see <a href="../group/subgroups/_index.md#mention-subgroups">Mention subgroups</a>.</p>
<h2>Add a comment to a merge request diff</h2>
<p>When you add comments to a merge request diff, these comments persist, even when you:</p>
<ul>
<li>Force-push after a rebase.</li>
<li>Amend a commit.</li>
</ul>
<p>To add a commit diff comment:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Code</strong> &gt; <strong>Merge requests</strong>, and find your merge request.</li>
<li>Select the <strong>Commits</strong> tab, then select the commit message.</li>
<li>Start a comment:</li>
<li>To comment on an entire file, find the file you want to comment on and,
     in the file header, select <strong>Comment on this file</strong> ({{&lt; icon name="comment" &gt;}}).</li>
<li>To comment on specific lines, find the line number you want to comment on. Hover over the line number,
   then select <strong>Comment</strong> ({{&lt; icon name="comment" &gt;}}). To select more lines, drag the
   <strong>Comment</strong> ({{&lt; icon name="comment" &gt;}}) icon.</li>
<li>Enter your comment.</li>
<li>Submit your comment:</li>
<li>To add your comment immediately, select <strong>Add comment now</strong>, or use the keyboard shortcut:<ul>
<li>macOS: <kbd>Shift</kbd>+<kbd>Command</kbd>+<kbd>Enter</kbd></li>
<li>All other OSes: <kbd>Shift</kbd>+<kbd>Control</kbd>+<kbd>Enter</kbd></li>
</ul>
</li>
<li>To leave your comment unpublished until you finish a review, select <strong>Start a review</strong>, or use the keyboard shortcut:<ul>
<li>macOS: <kbd>Command</kbd>+<kbd>Enter</kbd></li>
<li>All other OSes: <kbd>Control</kbd>+<kbd>Enter</kbd></li>
</ul>
</li>
</ol>
<p>The comment displays on the merge request's <strong>Overview</strong> tab.</p>
<p>The comment is not displayed on your project's <strong>Code</strong> &gt; <strong>Commits</strong> page.</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>When your comment contains a reference to a commit included in the merge request,
it's converted to a link in the context of the merge request.
For example, <code>28719b171a056960dfdc0012b625d0b47b123196</code> becomes <code>28719b17</code> that links to
<code>https://gitlab.example.com/example-group/example-project/-/merge_requests/12345/diffs?commit_id=28719b171a056960dfdc0012b625d0b47b123196</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<h2>Reply to a comment by sending email</h2>
<p>If you have <a href="../../administration/reply_by_email.html">"reply by email"</a> configured,
you can reply to comments by sending an email.</p>
<ul>
<li>When you reply to a standard comment, it creates another standard comment.</li>
<li>When you reply to a threaded comment, it creates a reply in the thread.</li>
<li>When you <a href="../project/issues/managing_issues.md#copy-issue-email-address">send an email to an issue email address</a>,
  it creates a standard comment.</li>
</ul>
<p>You can use <a href="../markdown.html">Markdown</a> and <a href="../project/quick_actions.html">quick actions</a> in your email replies.</p>
<h3>Comment reply expiration</h3>
<p>Email replies that create standard or threaded comments are subject to a two year
<a href="../../administration/reply_by_email.md#retention-policy-for-notifications">retention policy</a>.</p>
<h2>Edit a comment</h2>
<p>You can edit your own comment at any time.
Anyone with at least the Maintainer role can also edit a comment made by someone else.</p>
<p>To edit a comment:</p>
<ol>
<li>On the comment, select <strong>Edit comment</strong> ({{&lt; icon name="pencil" &gt;}}).</li>
<li>Make your edits.</li>
<li>Select <strong>Save changes</strong>.</li>
</ol>
<h3>Edit a comment to add a mention</h3>
<p>By default, when you mention a user, GitLab <a href="../todos.md#actions-that-create-to-do-items">creates a to-do item</a>
for them, and sends them a <a href="../profile/notifications.html">notification email</a>.</p>
<p>If you edit an existing comment to add a user mention that wasn't there before, GitLab:</p>
<ul>
<li>Creates a to-do item for the mentioned user.</li>
<li>Does not send a notification email.</li>
</ul>
<h2>Prevent comments by locking the discussion</h2>
<p>You can prevent public comments in an issue or merge request.
When you do, only project members can add and edit comments.</p>
<p>Prerequisites:</p>
<ul>
<li>In merge requests, you must have at least the Developer role.</li>
<li>In issues, you must have at least the Planner role.</li>
</ul>
<p>To lock an issue or merge request:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>For merge requests, select <strong>Code</strong> &gt; <strong>Merge requests</strong>, and find your merge request.</li>
<li>For issues, select <strong>Plan</strong> &gt; <strong>Issues</strong>, and find your issue.</li>
<li>In the upper-right corner, select <strong>Merge request actions</strong> or <strong>Issue actions</strong>
   ({{&lt; icon name="ellipsis_v" &gt;}}), then select <strong>Lock discussion</strong>.</li>
</ol>
<p>GitLab adds a system note to the page details.</p>
<p>You must unlock all locked discussions in closed issues or merge requests before you can
reopen the issue or merge request.</p>
<h2>Comments on confidential items</h2>
<p>Only users with permission to access a confidential item receive notifications for comments on the item.
If the item was not previously confidential, users without access may appear as participants. These users do not receive notifications while the item is confidential.</p>
<p>Who can be notified:</p>
<ul>
<li>Users assigned to the item, regardless of role.</li>
<li>Users who authored the item, if they have at least the Guest role.</li>
<li>Users with at least a Planner role in the group or project the item belongs to.</li>
</ul>
<h2>Add an internal note</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/142003">Introduced</a> for merge requests in GitLab 16.9.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/538003">Introduced</a> for GitLab Wiki in GitLab 18.2.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Use internal notes to protect information added to a public issue, epic, wiki page, or merge request.
Internal notes differ from public comments:</p>
<ul>
<li>Only project members with least the Reporter role can view the internal note.</li>
<li>You can't convert internal notes to regular comments.</li>
<li>All replies to internal notes are also internal.</li>
<li>Internal notes display an <strong>Internal note</strong> badge and are shown in a different
  color than public comments:</li>
</ul>
<p><img alt="Internal notes" src="img/add_internal_note_v16_9.png" /></p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Reporter role for the project.</li>
</ul>
<p>To add an internal note:</p>
<ol>
<li>On the issue, epic, wiki page, or merge request, in the <strong>Comment</strong> text box, enter a comment.</li>
<li>Below the comment, select <strong>Make this an internal note</strong>.</li>
<li>Select <strong>Add internal note</strong>.</li>
</ol>
<p>You can also mark an entire <a href="../project/issues/confidential_issues.html">issue as confidential</a>,
or create <a href="../project/merge_requests/confidential.html">confidential merge requests</a>.</p>
<h2>Show only comments</h2>
<p>In discussions with many comments, filter the discussion to show only comments or history of
changes (<a href="../project/system_notes.html">system notes</a>). System notes include changes to the description, mentions in other GitLab
objects, or changes to labels, assignees, and the milestone.
GitLab saves your preference, and applies it to every issue, merge request, or epic you view.</p>
<ol>
<li>On a merge request, issue, or epic, select the <strong>Overview</strong> tab.</li>
<li>On the right side of the page, from the <strong>Sort or filter</strong> dropdown list, select a filter:</li>
<li><strong>Show all activity</strong>: Display all user comments and system notes.</li>
<li><strong>Show comments only</strong>: Display only user comments.</li>
<li><strong>Show history only</strong>: Display only activity notes.</li>
</ol>
<h2>Change activity sort order</h2>
<p>Reverse the default order and interact with the activity feed sorted by most recent items
at the top. GitLab saves your preference in local storage and applies it to every issue,
merge request, or epic you view. Issues and epics share the same sorting preference, while merge requests maintain their own separate preference.</p>
<p>To change the activity sort order:</p>
<ol>
<li>Open an issue, or open the <strong>Overview</strong> tab in a merge request or epic.</li>
<li>Scroll down to the <strong>Activity</strong> heading.</li>
<li>On the right side of the page, change the sort order:</li>
<li><strong>Issues and epics</strong>: From the <strong>Sort or filter</strong> dropdown list, select <strong>Newest first</strong> or <strong>Oldest first</strong> (default).</li>
<li><strong>Merge requests</strong>: Use the sort direction arrow button to toggle between <strong>Sort direction: Ascending</strong> (oldest first, default) or <strong>Sort direction: Descending</strong> (newest first).</li>
</ol>
<h2>View description change history</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>You can see changes to the description listed in the history.</p>
<p>To compare the changes, select <strong>Compare with previous version</strong>.</p>
<h2>Assign an issue to the commenting user</h2>
<p>You can assign an issue to a user who made a comment.</p>
<ol>
<li>In the comment, select the <strong>More Actions</strong> ({{&lt; icon name="ellipsis_v" &gt;}}) menu.</li>
<li>Select <strong>Assign to comment author</strong>.</li>
<li>To unassign the commenter, select the button again.</li>
</ol>
<h2>Create a thread by replying to a standard comment</h2>
<p>When you reply to a standard comment, you create a thread.</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Guest role.</li>
<li>You must be in an issue, merge request, or epic. Threads in commits and snippets are not supported.</li>
</ul>
<p>To create a thread by replying to a comment:</p>
<ol>
<li>In the upper-right corner of the comment, select <strong>Reply to comment</strong> ({{&lt; icon name="reply" &gt;}})
   to display the reply section.</li>
<li>Enter your reply.</li>
<li>Select <strong>Reply</strong> or <strong>Add comment now</strong> (depending on where in the UI you are replying).</li>
</ol>
<p>GitLab converts the top comment to a thread.</p>
<h2>Create a thread without replying to a comment</h2>
<p>You can create a thread without replying to a standard comment.</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Guest role.</li>
<li>You must be in an issue, merge request, commit, or snippet.</li>
</ul>
<p>To create a thread:</p>
<ol>
<li>Enter a comment.</li>
<li>Below the comment, to the right of <strong>Comment</strong>, select the down arrow ({{&lt; icon name="chevron-down" &gt;}}).</li>
<li>From the list, select <strong>Start thread</strong>.</li>
<li>Select <strong>Start thread</strong> again.</li>
</ol>
<p><img alt="Create a thread" src="img/create_thread_v16_6.png" /></p>
<h2>Resolve a thread</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Resolvable threads for issues <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/31114">introduced</a> in GitLab 16.3 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>resolvable_issue_threads</code>. Disabled by default.</li>
<li>Resolvable threads for issues <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/31114">enabled on GitLab.com and GitLab Self-Managed</a> in GitLab 16.4.</li>
<li>Resolvable threads for issues <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/31114">generally available</a> in GitLab 16.7. Feature flag <code>resolvable_issue_threads</code> removed.</li>
<li>Resolvable threads for tasks, objectives, and key results <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/458818">generally available</a> in GitLab 17.3.</li>
<li>Resolvable threads for epics <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/458818">introduced</a> in GitLab 17.5. <a href="../group/epics/_index.md#epics-as-work-items">The new look for epics</a> must be enabled.</li>
<li>Resolvable threads for epics <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468310">generally available</a> in GitLab 18.1.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>When a conversation is complete, you can resolve the thread. Resolved threads are collapsed, but users can still add comments.</p>
<p>Resolved threads can be reopened later by any user who has permission to resolve threads. To reopen a resolved thread, expand the thread and select <strong>Reopen thread</strong>.</p>
<p>Prerequisites:</p>
<ul>
<li>You must be in an epic, issue, task, objective, key result, or merge request.</li>
<li>You must have at least the Developer role or be the author of the issue or merge request.</li>
</ul>
<p>To resolve a thread:</p>
<ol>
<li>Go to the thread.</li>
<li>Do one of the following:</li>
<li>In the upper-right corner of the original comment, select <strong>Resolve thread</strong> ({{&lt; icon name="check-circle" &gt;}}).</li>
<li>Below the last reply, in the <strong>Reply</strong> field, select <strong>Resolve thread</strong>.</li>
<li>Below the last reply, in the <strong>Reply</strong> field, enter text, select the <strong>Resolve thread</strong> checkbox, and select <strong>Add comment now</strong>.</li>
</ol>
<p>The same actions can be performed to reopen a thread.</p>
<p>Merge requests provide more flexible <a href="../project/merge_requests/_index.md#manage-comment-threads">thread management options</a>,
such as:</p>
<ul>
<li>Move open threads to a new issue.</li>
<li>Prevent merging until all threads are resolved.</li>
</ul>
<h2>Summarize issue discussions with GitLab Duo Chat</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Add-on: GitLab Duo Enterprise, GitLab Duo with Amazon Q</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; collapsible title="Model information" &gt;}}</p>
<ul>
<li>LLM for GitLab Self-Managed, GitLab Dedicated: Anthropic <a href="https://console.cloud.google.com/vertex-ai/publishers/anthropic/model-garden/claude-3-5-sonnet">Claude 3.5 Sonnet</a></li>
<li>LLM for GitLab.com: Anthropic <a href="https://console.cloud.google.com/vertex-ai/publishers/anthropic/model-garden/claude-3-7-sonnet">Claude 3.7 Sonnet</a></li>
<li>LLM for Amazon Q: Amazon Q Developer</li>
<li>Available on <a href="../../administration/gitlab_duo_self_hosted/_index.html">GitLab Duo with self-hosted models</a></li>
</ul>
<p>{{&lt; /collapsible &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/10344">Introduced</a> in GitLab 16.0 as an <a href="../../policy/development_stages_support.md#experiment">experiment</a>.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454550">Moved</a> to GitLab Duo and promoted to <a href="../../policy/development_stages_support.md#beta">beta</a> in GitLab 17.3 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>summarize_notes_with_duo</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/162122">Enabled by default</a> in GitLab 17.4.</li>
<li>Changed to require GitLab Duo add-on in GitLab 17.6 and later.</li>
<li>Changed to include Premium in GitLab 18.0.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Generate a summary of discussions on an issue.</p>
<p><i class="fa-youtube-play" aria-hidden="true"></i> <a href="https://www.youtube.com/watch?v=IcdxLfTIUgc">Watch an overview</a></p>
<!-- Video published on 2024-03-28 -->

<p>Prerequisites:</p>
<ul>
<li>You must have permission to view the issue.</li>
</ul>
<p>To generate a summary of issue discussions:</p>
<ol>
<li>In an issue, scroll to the <strong>Activity</strong> section.</li>
<li>Select <strong>View summary</strong>.</li>
</ol>
<p>The comments in the issue are summarized in as many as 10 list items.
You can ask follow up questions based on the response.</p>
<p>Data usage: When you use this feature, the text of all comments on the issue are sent to
the large language model.</p></code></pre>
</body>
</html>
