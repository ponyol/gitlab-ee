<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Use GitLab Duo Chat</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: AI-powered
group: Duo Chat
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: GitLab Duo Chat (Agentic)</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Add-on: GitLab Duo Core, Pro, or Enterprise</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
<li>Status: Beta</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; collapsible title="Model information" &gt;}}</p>
<ul>
<li>Default LLM: Anthropic <a href="https://console.cloud.google.com/vertex-ai/publishers/anthropic/model-garden/claude-haiku-4-5">Claude Haiku 4.5</a></li>
<li>Available on <a href="../../administration/gitlab_duo_self_hosted/_index.html">GitLab Duo with self-hosted models</a></li>
</ul>
<p>{{&lt; /collapsible &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>VS Code <a href="https://gitlab.com/gitlab-org/gitlab/-/work_items/540917">introduced on GitLab.com</a> in GitLab 18.1 as an <a href="../../policy/development_stages_support.html">experiment</a> with a <a href="../../administration/feature_flags/_index.html">flag</a> named <code>duo_agentic_chat</code>. Disabled by default.</li>
<li>VS Code <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/196688">enabled on GitLab Self-Managed</a> in GitLab 18.2.</li>
<li>GitLab UI <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/546140">introduced on GitLab.com and GitLab Self-Managed</a> in GitLab 18.2 <a href="../../administration/feature_flags/_index.html">with flags</a> named <code>duo_workflow_workhorse</code> and <code>duo_workflow_web_chat_mutation_tools</code>. Both flags are enabled by default.</li>
<li>Feature flag <code>duo_agentic_chat</code> enabled by default in GitLab 18.2.</li>
<li>JetBrains IDEs <a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-jetbrains-plugin/-/issues/1077">introduced</a> in GitLab 18.2.</li>
<li>Changed to beta in GitLab 18.2.</li>
<li>Visual Studio for Windows <a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-visual-studio-extension/-/issues/245">introduced</a> in GitLab 18.3.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/201721">Added</a> to GitLab Duo Core in GitLab 18.3.</li>
<li>Feature flags <code>duo_workflow_workhorse</code> and <code>duo_workflow_web_chat_mutation_tools</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/198487">removed</a> in GitLab 18.4.</li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/19213">Introduced</a> GitLab Duo Agent Platform on GitLab Self-Managed (both with <a href="../../administration/gitlab_duo_self_hosted/_index.html">self-hosted models</a> and cloud-connected GitLab models) in GitLab 18.4 as an <a href="../../policy/development_stages_support.md#experiment">experiment</a> with a <a href="../../administration/feature_flags/_index.html">feature flag</a> named <code>self_hosted_agent_platform</code>. Disabled by default.</li>
<li>GitLab Duo Agent Platform on GitLab Self-Managed changed from experiment to <a href="https://gitlab.com/groups/gitlab-org/-/epics/19402">beta</a> in GitLab 18.5.</li>
<li><a href="https://gitlab.com/gitlab-org/modelops/applied-ml/code-suggestions/ai-assist/-/issues/1541">Updated default LLM</a> to Claude Sonnet 4.5 in GitLab 18.6.</li>
<li>Feature flag <code>self_hosted_agent_platform</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/208951">enabled</a> in GitLab 18.7.</li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/19998">Updated default LLM</a> to Claude Haiku 4.5 in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by feature flags.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>GitLab Duo Chat (Agentic) is an enhanced version of GitLab Duo Chat (Classic). This new Chat can autonomously
perform actions on your behalf, to help you answer complex questions more comprehensively.</p>
<p>While the classic Chat answers questions based on a single context, the agentic Chat searches,
retrieves, and combines information from multiple sources across your GitLab projects
to provide more thorough and relevant answers.</p>
<p>GitLab Duo Chat (Agentic) can:</p>
<ul>
<li>Search projects to find relevant issues, merge requests, and other artifacts using keyword-based search (not semantic search).</li>
<li>Access files in your local project without manually specifying file paths.</li>
<li>Create and edit files in multiple locations.</li>
<li>Retrieve resources like issues, merge requests, and CI/CD pipelines.</li>
<li>Analyze multiple sources to provide complete answers.
  Use <a href="../gitlab_duo/model_context_protocol/_index.html">Model Context Protocol</a> to
  connect to external data sources and tools.</li>
<li>Provide customized responses by using your customized rules.</li>
<li>Create commits, when you use Chat in the GitLab UI.</li>
</ul>
<p><i class="fa-youtube-play" aria-hidden="true"></i>
For an overview, see <a href="https://youtu.be/uG9-QLAJrrg?si=c25SR7DoRAep7jvQ">GitLab Duo Chat (Agentic)</a>.</p>
<!-- Video published on 2025-06-02 -->

<h2>Use GitLab Duo Chat</h2>
<p>You can use GitLab Duo Chat in:</p>
<ul>
<li>The GitLab UI.</li>
<li>VS Code.</li>
<li>A JetBrains IDE.</li>
<li>Visual Studio for Windows.</li>
</ul>
<h3>Use GitLab Duo Chat in the GitLab UI</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Ability for Chat to remember your most recent conversation <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/203653">added</a> in GitLab 18.4.</li>
<li>New navigation and GitLab Duo sidebar introduced on GitLab.com in GitLab 18.6 with a <a href="../../administration/feature_flags/_index.html">flag</a> named <code>paneled_view</code>. Enabled by default.</li>
<li>Classic navigation instructions removed in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of the new navigation and GitLab Duo sidebar is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>Ensure you meet <a href="../duo_agent_platform/_index.md#prerequisites">the prerequisites</a>.</li>
</ul>
<p>To use Chat in the GitLab UI:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>On the GitLab Duo sidebar, select either <strong>New GitLab Duo Chat</strong>
   ({{&lt; icon name="pencil-square" &gt;}}) or <strong>Current GitLab Duo Chat</strong>
   ({{&lt; icon name="duo-chat" &gt;}}).
   A Chat conversation opens in the GitLab Duo sidebar on the right side of your screen.</li>
<li>Under the chat text box, turn on the <strong>Agentic mode (Beta)</strong> toggle.</li>
<li>Enter your question in the chat text box and press <kbd>Enter</kbd> or select <strong>Send</strong>.</li>
<li>You can provide additional <a href="../gitlab_duo/context.md#gitlab-duo-chat">context</a> for your chat.</li>
<li>It might take a few seconds for the interactive AI chat to produce an answer.</li>
<li>Optional. You can:</li>
<li>Ask a follow-up question.</li>
<li>Start <a href="#have-multiple-conversations">another conversation</a>.</li>
</ol>
<p>If you reload the webpage you are on, or go to another webpage, Chat remembers your
most recent conversation, and that conversation is still active in the Chat drawer.</p>
<h3>Use GitLab Duo Chat in VS Code</h3>
<p>Prerequisites:</p>
<ul>
<li><a href="../../editor_extensions/visual_studio_code/setup.html">Install and configure the GitLab Workflow extension for VS Code</a> version 6.15.1 or later.</li>
<li>Ensure you meet <a href="../duo_agent_platform/_index.md#prerequisites">the other prerequisites</a>.</li>
</ul>
<p>Turn on GitLab Duo Chat:</p>
<!-- markdownlint-disable MD044 -->
<ol>
<li>In VS Code, go to <strong>Settings</strong> &gt; <strong>Settings</strong>.</li>
<li>Search for <code>agent platform</code>.</li>
<li>Under <strong>GitLab</strong> &gt; <strong>Duo Agent Platform: Enabled</strong>, select the
   <strong>Enable GitLab Duo Agent Platform</strong> checkbox.</li>
</ol>
<!-- markdownlint-enable MD044 -->

<p>Then, to use GitLab Duo Chat:</p>
<ol>
<li>On the left sidebar, select <strong>GitLab Duo Agent Platform (Beta)</strong> ({{&lt; icon name="duo-agentic-chat" &gt;}}).</li>
<li>Select the <strong>Chat</strong> tab.</li>
<li>Select <strong>Refresh page</strong> if prompted.</li>
<li>In the message box, enter your question and press <kbd>Enter</kbd> or select <strong>Send</strong>.</li>
</ol>
<h3>Use GitLab Duo Chat in JetBrains IDEs</h3>
<p>Prerequisites:</p>
<ul>
<li><a href="../../editor_extensions/jetbrains_ide/setup.html">Install and configure the GitLab plugin for JetBrains</a> version 3.11.1 or later.</li>
<li>Ensure you meet <a href="../duo_agent_platform/_index.md#prerequisites">the other prerequisites</a>.</li>
</ul>
<p>Turn on GitLab Duo Chat:</p>
<ol>
<li>In your JetBrains IDE, go to <strong>Settings</strong> &gt; <strong>Tools</strong> &gt; <strong>GitLab Duo</strong>.</li>
<li>Under <strong>GitLab Duo Agent Platform (Beta)</strong>, select the <strong>Enable GitLab Duo Agent Platform</strong> checkbox.</li>
<li>Restart your IDE if prompted.</li>
</ol>
<p>Then, to use GitLab Duo Chat:</p>
<ol>
<li>On the left sidebar, select <strong>GitLab Duo Agent Platform (Beta)</strong> ({{&lt; icon name="duo-agentic-chat" &gt;}}).</li>
<li>Select the <strong>Chat</strong> tab.</li>
<li>In the message box, enter your question and press <kbd>Enter</kbd> or select <strong>Send</strong>.</li>
</ol>
<h3>Use GitLab Duo Chat in Visual Studio</h3>
<p>Prerequisites:</p>
<ul>
<li><a href="../../editor_extensions/visual_studio/setup.html">Install and configure the GitLab extension for Visual Studio</a> version 0.60.0 or later.</li>
<li>Ensure you meet <a href="../duo_agent_platform/_index.md#prerequisites">the other prerequisites</a>.</li>
</ul>
<p>Turn on GitLab Duo Chat:</p>
<ol>
<li>In Visual Studio, go to <strong>Tools</strong> &gt; <strong>Options</strong> &gt; <strong>GitLab</strong>.</li>
<li>Under <strong>GitLab</strong>, select <strong>General</strong>.</li>
<li>For <strong>Enable Agentic Duo Chat (experimental)</strong>, select <strong>True</strong>, and then <strong>OK</strong>.</li>
</ol>
<p>Then, to use GitLab Duo Chat:</p>
<ol>
<li>Select <strong>Extensions</strong> &gt; <strong>GitLab</strong> &gt; <strong>Open Agentic Chat</strong>.</li>
<li>In the message box, enter your question and press <strong>Enter</strong>.</li>
</ol>
<h2>View the chat history</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Chat history <a href="https://gitlab.com/groups/gitlab-org/-/epics/17922">introduced</a> on IDEs in GitLab 18.2.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/556875">Added</a> for GitLab UI in GitLab 18.3.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>To view your chat history:</p>
<ul>
<li>
<p>In the GitLab UI, on the GitLab Duo sidebar, select <strong>GitLab Duo Chat history</strong>
  ({{&lt; icon name="history" &gt;}}).</p>
</li>
<li>
<p>In your IDE, in the upper-right corner of the message box, select
  <strong>Chat history</strong> ({{&lt; icon name="history" &gt;}}).</p>
</li>
</ul>
<p>In the GitLab UI, all of the conversations in your chat history are visible.</p>
<p>In your IDE, the last 20 conversations are visible. <a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp/-/issues/1308">Issue 1308</a> proposes to change this.</p>
<h2>Have multiple conversations</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Multiple conversations <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/556875">introduced</a> in GitLab 18.3.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>You can have an unlimited number of simultaneous conversations with GitLab Duo Chat.</p>
<p>Your conversations synchronize across GitLab Duo Chat in the GitLab UI and your IDE.</p>
<ol>
<li>Open GitLab Duo Chat in the GitLab UI or your IDE.</li>
<li>Enter your question and press <kbd>Enter</kbd> or select <strong>Send</strong>.</li>
<li>
<p>Create a new Chat conversation:</p>
</li>
<li>
<p>In the GitLab UI, you can do either of the following:</p>
<ul>
<li>On the GitLab Duo sidebar, select <strong>New GitLab Duo Chat</strong>
   ({{&lt; icon name="pencil-square" &gt;}}).</li>
<li>In the message box, type <code>/new</code> and press <kbd>Enter</kbd> or select <strong>Send</strong>.
   A new Chat conversation replaces the previous one.</li>
</ul>
</li>
<li>
<p>In your IDE, in the upper-right corner of the message box, select <strong>New chat</strong>
     ({{&lt; icon name="plus" &gt;}}).</p>
</li>
<li>
<p>Enter your question and press <kbd>Enter</kbd> or select <strong>Send</strong>.</p>
</li>
<li>To view all of your conversations, look at your <a href="#view-the-chat-history">chat history</a>.</li>
<li>To switch between conversations, in your chat history, select the
   appropriate conversation.</li>
<li>IDE only: To search for a specific conversation in the chat history, in the
   <strong>Search chats</strong> text box, enter your search term.</li>
</ol>
<p>Because of LLM context window limits, conversations are truncated to 200,000 tokens
(roughly 800,000 characters) each.</p>
<h2>Delete a conversation</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Ability to delete a conversation <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/545289">introduced</a> in GitLab 18.2.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<ol>
<li>In the GitLab UI or your IDE, select the <a href="#view-the-chat-history">chat history</a>.</li>
<li>In the history, select <strong>Delete this chat</strong> ({{&lt; icon name="remove" &gt;}}).</li>
</ol>
<p>Individual conversations expire and are automatically deleted after 30 days of inactivity.</p>
<h2>Create custom rules</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Custom rules <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/550743">added</a> in GitLab 18.2.</li>
<li>User-level custom rules <a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp/-/merge_requests/2452">added</a> in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Use custom rules to specify instructions for GitLab Duo Chat to follow for every conversation in
your IDE.</p>
<p>You can create custom rules at two levels:</p>
<ul>
<li>User-level rules: Apply to all of your projects and workspaces.</li>
<li>Workspace-level rules: Apply only to a specific project or workspace.</li>
</ul>
<p>If both user-level and workspace-level rules exist, GitLab Duo Chat applies both to conversations.</p>
<p>Prerequisites:</p>
<ul>
<li>For VS Code, <a href="../../editor_extensions/visual_studio_code/setup.html">install and configure the GitLab Workflow extension for VS Code</a> version 6.32.2 or later.</li>
<li>For a JetBrains IDE, <a href="../../editor_extensions/jetbrains_ide/setup.html">install and configure the GitLab plugin for JetBrains</a> version 3.12.2 or later.</li>
<li>For Visual Studio, <a href="../../editor_extensions/visual_studio/setup.html">install and configure the GitLab extension for Visual Studio</a> version 0.60.0 or later.</li>
</ul>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Conversations that existed before you created any custom rules do not follow those rules.</p>
<p>{{&lt; /alert &gt;}}</p>
<h3>Create user-level custom rules</h3>
<p>User-level custom rules apply to all of your projects and workspaces.</p>
<ol>
<li>Create a custom rules file in your user configuration directory:</li>
<li>If you have set the <code>GLAB_CONFIG_DIR</code> environment variable, create the file at: <code>$GLAB_CONFIG_DIR/chat-rules.md</code></li>
<li>Otherwise, create the file in your platform's default configuration directory:<ul>
<li>macOS or Linux:</li>
<li>If you use the <code>XDG_CONFIG_HOME</code> environment variable, create the file at: <code>$XDG_CONFIG_HOME/gitlab/duo/chat-rules.md</code></li>
<li>Otherwise, create the file within your home directory at: <code>~/.gitlab/duo/chat-rules.md</code></li>
<li>Windows: <code>%APPDATA%\GitLab\duo\chat-rules.md</code></li>
</ul>
</li>
<li>Add custom rules to the file. For example:</li>
</ol>
<p><code>markdown
   - Don't put comments in the generated code
   - Be brief in your explanations
   - Always use single quotes for JavaScript strings</code></p>
<ol>
<li>Save the file.</li>
<li>To apply the new custom rules, start a new GitLab Duo conversation.</li>
</ol>
<p>You must do this every time you change the custom rules.</p>
<h3>Create workspace-level custom rules</h3>
<p>Workspace-level custom rules apply only to a specific project or workspace.</p>
<ol>
<li>In your IDE workspace, create a custom rules file: <code>.gitlab/duo/chat-rules.md</code>.</li>
<li>Add custom rules to the file. For example:</li>
</ol>
<p><code>markdown
   - Don't put comments in the generated code
   - Be brief in your explanations
   - Always use single quotes for JavaScript strings</code></p>
<ol>
<li>Save the file.</li>
<li>To apply the new custom rules, start a new GitLab Duo conversation.</li>
</ol>
<p>You must do this every time you change the custom rules.</p>
<p>For more information, see the <a href="https://about.gitlab.com/blog/custom-rules-duo-agentic-chat-deep-dive/">Custom rules in GitLab Duo Agentic Chat blog</a>.</p>
<h3>Update custom rules</h3>
<p>To update your custom rules, edit and save the custom rules file. Then, start a new GitLab Duo
conversation to apply the updated rules.</p>
<p>You cannot use Chat to edit your custom rules file directly.</p>
<p>To manage who must approve any changes to custom rules, use <a href="../project/codeowners/_index.html">Code Owners</a>.</p>
<h3>Create <code>AGENTS.md</code> instruction files</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp/-/merge_requests/2597">Introduced</a> in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Use <code>AGENTS.md</code> files to provide instructions for GitLab Duo Chat to follow during conversations in your IDE. Unlike custom rules, these instructions are also available for other AI coding tools to use.</p>
<p>This feature follows the <a href="https://agents.md/"><code>AGENTS.md</code> specification</a>, an emerging standard for
providing context and instructions to AI coding assistants.</p>
<p>You can create <code>AGENTS.md</code> files at multiple levels:</p>
<ul>
<li>User-level: Apply to all of your projects and workspaces.</li>
<li>Workspace-level: Apply only to a specific project or workspace.</li>
<li>Subdirectory-level: Apply only to a specific project within a monorepo
  or within a project with distinct components.</li>
</ul>
<p>GitLab Duo Chat combines available instructions from user-level and workspace-level <code>AGENTS.md</code> files for all conversations. If a task requires working with files in a directory that contains an additional <code>AGENTS.md</code> file, Chat applies those instructions as well.</p>
<p>Prerequisites:</p>
<ul>
<li>For VS Code, <a href="../../editor_extensions/visual_studio_code/setup.html">install and configure the GitLab Workflow extension for VS Code</a> version v6.60 or later.</li>
<li>For a JetBrains IDE, <a href="../../editor_extensions/jetbrains_ide/setup.html">install and configure the GitLab plugin for JetBrains</a> version 3.26.0 or later.</li>
</ul>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Conversations that existed before you created any <code>AGENTS.md</code> files do not follow those instructions.</p>
<p>{{&lt; /alert &gt;}}</p>
<h4>Create a user-level <code>AGENTS.md</code> file</h4>
<p>User-level <code>AGENTS.md</code> files apply to all of your projects and workspaces.</p>
<ol>
<li>Create the file in your user configuration directory:</li>
<li>If you have set the <code>GLAB_CONFIG_DIR</code> environment variable, create the file at: <code>$GLAB_CONFIG_DIR/AGENTS.md</code></li>
<li>Otherwise, create the file in your platform's default configuration directory:<ul>
<li>macOS or Linux:</li>
<li>If you use the <code>XDG_CONFIG_HOME</code> environment variable, create the file at: <code>$XDG_CONFIG_HOME/gitlab/duo/AGENTS.md</code></li>
<li>Otherwise, create the file within your home directory at: <code>~/.gitlab/duo/AGENTS.md</code></li>
<li>Windows: <code>%APPDATA%\GitLab\duo\AGENTS.md</code></li>
</ul>
</li>
<li>Add instructions to the file. For example:</li>
</ol>
<p><code>markdown
   - I am still learning Rust, explain all Rust code at a beginner level
   - Be brief in your explanations</code></p>
<ol>
<li>Save the file.</li>
<li>To apply the instructions, start a new GitLab Duo conversation.</li>
</ol>
<p>You must do this every time you change the file.</p>
<h4>Create workspace-level <code>AGENTS.md</code> files</h4>
<p>Workspace-level <code>AGENTS.md</code> files apply only to a specific project or workspace.</p>
<ol>
<li>In your project root, create a file named <code>AGENTS.md</code>.</li>
<li>Add instructions to the file. For example:</li>
</ol>
<p>```markdown
   # Project Guidelines</p>
<p>This is a Ruby on Rails application using PostgreSQL.</p>
<ul>
<li>Follow Rails conventions for file organization</li>
<li>Use RSpec for testing</li>
<li>
<p>All API endpoints should be documented with OpenAPI
   ```</p>
</li>
<li>
<p>Save the file.</p>
</li>
<li>To apply the instructions, start a new GitLab Duo conversation.</li>
</ul>
<p>You must do this every time you change the file.</p>
<h4>Use <code>AGENTS.md</code> in monorepos and subdirectories</h4>
<p>For monorepos or projects with distinct components, you can place <code>AGENTS.md</code> files in
subdirectories to provide context-specific instructions for different parts of your codebase.</p>
<p>When GitLab Duo Chat discovers additional <code>AGENTS.md</code> files in subdirectories, it reads the relevant file before editing files in that directory. For example:</p>
<pre><code class="language-plaintext">/my-project
  AGENTS.md              # Root instructions (included in all conversations)
  /frontend
    AGENTS.md            # Frontend-specific instructions
  /backend
    AGENTS.md            # Backend-specific instructions
</code></pre>
<p>In this example:</p>
<ul>
<li>The root <code>AGENTS.md</code> is always included in conversations.</li>
<li>When GitLab Duo edits files in <code>/frontend</code>, it reads <code>/frontend/AGENTS.md</code> first.</li>
<li>When GitLab Duo edits files in <code>/backend</code>, it reads <code>/backend/AGENTS.md</code> first.</li>
</ul>
<p>This approach helps ensure GitLab Duo follows the appropriate conventions for each part of your project.</p>
<h4>The difference between <code>AGENTS.md</code> and <code>chat-rules.md</code></h4>
<p>You can use both <code>AGENTS.md</code> and <code>chat-rules.md</code> to provide instructions for GitLab Duo Chat. Choose which one to use based on your needs:</p>
<ul>
<li>Use <code>chat-rules.md</code> to define instructions for GitLab only.</li>
<li>Use <code>AGENTS.md</code> to define instructions for GitLab and other AI coding tools
  that support the <code>AGENTS.md</code> specification.</li>
<li>Use <code>AGENTS.md</code> to define context-specific instructions for projects in nested directories within your workspace.</li>
</ul>
<p>You can use both simultaneously. GitLab Duo Chat applies instructions from all available
rule files.</p>
<h2>Select a model</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Offering: GitLab.com, GitLab Self-Managed</li>
<li>Status: Beta</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/19251">Introduced</a> in GitLab 18.4 as a <a href="../../policy/development_stages_support.md#beta">beta</a> feature with a <a href="../../administration/feature_flags/_index.html">flag</a> called <code>ai_user_model_switching</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/560319">Enabled</a> in GitLab 18.4.</li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/19344">Available on GitLab Self-Managed</a> in GitLab 18.6.</li>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/19345">Added</a> to VS Code and JetBrains IDEs in GitLab 18.6.</li>
<li>Feature flag <code>ai_user_model_switching</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/214042">removed</a> in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>When you use Chat in the GitLab UI, VS Code, or a JetBrains IDE, you can select
the model to use for conversations.</p>
<p>If you open a previous chat from the chat history and continue that conversation,
Chat uses the model that you previously selected.</p>
<p>If you select a new model when in an existing conversation, Chat creates a new
conversation.</p>
<p>Prerequisites:</p>
<p>{{&lt; tabs &gt;}}</p>
<p>{{&lt; tab title=GitLab.com &gt;}}</p>
<ul>
<li>The Owner of the top-level group has not selected a model for the GitLab Duo Agent Platform. If a <a href="../gitlab_duo/model_selection.html">model has been selected for the group</a>, you cannot change the model for Chat.</li>
<li>You must be using Chat in the top-level group. You cannot change the model if you access Chat in the organization.</li>
</ul>
<p>{{&lt; /tab &gt;}}</p>
<p>{{&lt; tab title="Self-managed" &gt;}}</p>
<ul>
<li>The administrator has not selected a model for the instance. If a model has been selected for the instance,
  you cannot change the model for Chat.</li>
<li>Your instance must be connected to the GitLab AI gateway.</li>
</ul>
<p>{{&lt; /tab &gt;}}</p>
<p>{{&lt; /tabs &gt;}}</p>
<p>To select a model:</p>
<ul>
<li>In the GitLab UI:</li>
<li>Under the chat text box, ensure that the <strong>Agentic mode (Beta)</strong> toggle
     is turned on.</li>
<li>
<p>Select a model from the dropdown list.</p>
</li>
<li>
<p>In your IDE:</p>
</li>
<li>On the left sidebar, select <strong>GitLab Duo Agent Platform (Beta)</strong>
     ({{&lt; icon name="duo-agentic-chat" &gt;}}).</li>
<li>Select the <strong>Chat</strong> tab.</li>
<li>Select a model from the dropdown list.</li>
</ul>
<h2>Select an agent</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/562708">Introduced</a> in GitLab 18.4.</li>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp/-/merge_requests/2196">Added</a> to VS Code and JetBrains IDEs in GitLab 18.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>When you use Chat in a project in the GitLab UI, VS Code, or a JetBrains IDE,
you can select a specific agent for Chat to use.</p>
<p>Prerequisites:</p>
<ul>
<li>In your project, <a href="../duo_agent_platform/agents/custom.md#enable-an-agent">an agent from the AI Catalog must be enabled</a>.</li>
<li>You must be a member of the project the agent is enabled in.</li>
<li>For VS Code, <a href="../../editor_extensions/visual_studio_code/setup.html">install and configure the GitLab Workflow extension for VS Code</a> version 6.49.12 or later.</li>
<li>For a JetBrains IDE, <a href="../../editor_extensions/jetbrains_ide/setup.html">install and configure the GitLab plugin for JetBrains</a> version 3.22.0 or later.</li>
</ul>
<p>To select an agent:</p>
<ol>
<li>In the GitLab UI or your IDE, open a new conversation in GitLab Duo Chat.</li>
<li>In the dropdown list, select an agent. If you have not set up any
   agents, there is no dropdown list, and Chat uses the default GitLab Duo agent.</li>
<li>Enter your question and press <kbd>Enter</kbd> or select <strong>Send</strong>.</li>
</ol>
<p>After you create a conversation with an agent:</p>
<ul>
<li>The conversation remembers the agent you selected. You cannot select a different
  agent for that conversation.</li>
<li>If you use the chat history to go back to the same conversation, it uses the same agent.</li>
<li>If you go back to a conversation and the associated agent is no longer available,
  you cannot continue that conversation.</li>
</ul>
<h2>Prompt caching</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/577544">Introduced</a> in GitLab 18.7.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Prompt caching is enabled by default to improve GitLab Duo Chat (Agentic) latency.
When prompt caching is enabled, chat prompt data is temporarily stored in memory by the model
vendor (Anthropic or VertexAI). Prompt caching significantly improves latency by avoiding the
re-processing of cached prompt and input data.</p>
<h3>Turn off prompt caching</h3>
<p>You can <a href="../project/repository/code_suggestions/_index.md#turn-off-prompt-caching">turn off prompt caching</a>
for top-level groups in the GitLab Duo settings.
This also turns off prompt caching for Code Suggestions.</p>
<h2>Chat feature comparison</h2>
<table>
<thead>
<tr>
<th>Capability</th>
<th>GitLab Duo Chat (Classic)</th>
<th>GitLab Duo Chat (Agentic)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ask general programming questions</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Get answers about an open file in the editor</td>
<td>Yes</td>
<td>Yes. Provide the path of the file in your question.</td>
</tr>
<tr>
<td>Provide context about specified files</td>
<td>Yes. Use <code>/include</code> to add a file to the conversation.</td>
<td>Yes. Provide the path of the file in your question.</td>
</tr>
<tr>
<td>Autonomously search project contents</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Autonomously create files and change files</td>
<td>No</td>
<td>Yes. Ask it to change files. Note, it may overwrite changes that you have made manually and have not committed, yet.</td>
</tr>
<tr>
<td>Retrieve issues and MRs without specifying IDs</td>
<td>No</td>
<td>Yes. Search by other criteria. For example, an MR or issue's title or assignee.</td>
</tr>
<tr>
<td>Combine information from multiple sources</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Analyze pipeline logs</td>
<td>Yes. Requires GitLab Duo Enterprise add-on.</td>
<td>Yes</td>
</tr>
<tr>
<td>Restart a conversation</td>
<td>Yes. Use <code>/new</code> or <code>/reset</code>.</td>
<td>Yes. Use <code>/new</code> or, if in the UI, <code>/reset</code>.</td>
</tr>
<tr>
<td>Delete a conversation</td>
<td>Yes, in the chat history.</td>
<td>Yes, in the chat history</td>
</tr>
<tr>
<td>Create issues and MRs</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Use Git read-only commands</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Use Git write commands</td>
<td>No</td>
<td>Yes, UI only</td>
</tr>
<tr>
<td>Run Shell commands</td>
<td>No</td>
<td>Yes, IDEs only</td>
</tr>
<tr>
<td>Run MCP tools</td>
<td>No</td>
<td>Yes, IDEs only</td>
</tr>
</tbody>
</table>
<h2>Troubleshooting</h2>
<p>When working with GitLab Duo Chat, you might encounter issues.</p>
<p>For information on resolving these issues, see <a href="troubleshooting.html">Troubleshooting</a>.</p>
<h2>Feedback</h2>
<p>Because this is a beta feature, your feedback is valuable in helping us improve it.
Share your experiences, suggestions, or issues in <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/542198">issue 542198</a>.</p>
<h2>Related topics</h2>
<ul>
<li><a href="https://about.gitlab.com/blog/2025/05/29/gitlab-duo-chat-gets-agentic-ai-makeover/">Blog: GitLab Duo Chat gets agentic AI makeover</a></li>
</ul></code></pre>
</body>
</html>
