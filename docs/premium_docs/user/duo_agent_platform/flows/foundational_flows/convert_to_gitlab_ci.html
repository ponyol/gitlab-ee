<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Prerequisites</title>
    <link rel="stylesheet" href="../../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: AI-powered
group: Agent Foundations
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Convert to GitLab CI/CD Flow</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Add-on: GitLab Duo Core, Pro, or Enterprise</li>
<li>Offering: GitLab.com, GitLab Self-Managed</li>
<li>Status: Beta</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Introduced as <a href="../../../../policy/development_stages_support.html">a beta</a> in GitLab 18.3 <a href="../../../../administration/feature_flags/_index.html">with a flag</a> named <code>duo_workflow_in_ci</code>. Disabled by default, but can be enabled for the instance or a user.</li>
<li>Feature flag <code>duo_workflow_in_ci</code> enabled by default in 18.4.</li>
<li>The <code>duo_workflow</code> flag must also be enabled, but it is enabled by default.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>The Convert to GitLab CI/CD Flow helps you migrate your Jenkins pipelines to GitLab CI/CD. This flow:</p>
<ul>
<li>Analyzes your existing Jenkins pipeline configuration.</li>
<li>Converts Jenkins pipeline syntax to GitLab CI/CD YAML.</li>
<li>Suggests best practices for GitLab CI/CD implementation.</li>
<li>Creates a merge request with the converted pipeline configuration.</li>
<li>Provides guidance on migrating Jenkins plugins to GitLab features.</li>
</ul>
<p>This flow is available in the GitLab UI only.</p>
<h2>Prerequisites</h2>
<p>To convert a Jenkinsfile, you must:</p>
<ul>
<li>Have access to your Jenkins pipeline configuration.</li>
<li>Have at least the Developer role in the target GitLab project.</li>
<li>Meet <a href="../../../duo_agent_platform/_index.md#prerequisites">the other prerequisites</a>.</li>
<li><a href="../../troubleshooting.md#session-is-stuck-in-created-state">Ensure the GitLab Duo service account can create commits and branches</a>.</li>
</ul>
<h2>Use the flow</h2>
<p>To convert your Jenkinsfile to GitLab CI/CD:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Open your Jenkinsfile.</li>
<li>Above the file, select <strong>Convert to GitLab CI/CD</strong>.</li>
<li>Monitor progress by selecting <strong>Automate</strong> &gt; <strong>Sessions</strong>.</li>
<li>When the pipeline has successfully executed, on the left sidebar, select <strong>Code</strong> &gt; <strong>Merge requests</strong>.
   A merge request with the title <code>Duo Workflow: Convert to GitLab CI</code> is displayed.</li>
<li>Review the merge request and make changes as needed.</li>
</ol>
<h3>Conversion process</h3>
<p>The process converts:</p>
<ul>
<li>Pipeline stages and steps.</li>
<li>Environment variables.</li>
<li>Build triggers and parameters.</li>
<li>Artifacts and dependencies.</li>
<li>Parallel execution.</li>
<li>Conditional logic.</li>
<li>Post-build actions.</li>
</ul>
<h2>Example</h2>
<p>Jenkinsfile input:</p>
<pre><code class="language-groovy">pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                sh 'npm install'
                sh 'npm build'
            }
        }
        stage('Test') {
            steps {
                sh 'npm test'
            }
        }
        stage('Deploy') {
            when { branch 'main' }
            steps {
                sh './deploy.sh'
            }
        }
    }
}
</code></pre>
<p>GitLab output:</p>
<pre><code class="language-yaml">stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - npm install
    - npm build
  artifacts:
    paths:
      - node_modules/
      - dist/

test:
  stage: test
  script:
    - npm test

deploy:
  stage: deploy
  script:
    - ./deploy.sh
  only:
    - main
</code></pre></code></pre>
</body>
</html>
