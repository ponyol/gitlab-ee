<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Use advanced search</title>
    <link rel="stylesheet" href="/../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: AI-powered
group: Global Search
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Advanced search</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>Use advanced search to find exactly what you need across your entire GitLab instance.</p>
<p>With advanced search:</p>
<ul>
<li>Identify code patterns across all projects to refactor shared components more efficiently.</li>
<li>Locate security vulnerabilities across your entire organization's codebase and dependencies.</li>
<li>Track usage of deprecated functions or libraries throughout all repositories.</li>
<li>Find discussions buried in issues, merge requests, or comments.</li>
<li>Discover existing solutions instead of reinventing functionality that already exists.</li>
</ul>
<p>Advanced search works in:</p>
<ul>
<li>Code</li>
<li>Comments</li>
<li>Commits</li>
<li>Epics</li>
<li>Issues</li>
<li>Merge requests</li>
<li>Milestones</li>
<li>Projects</li>
<li>Users</li>
<li>Wikis</li>
</ul>
<h2>Use advanced search</h2>
<p>Prerequisites:</p>
<ul>
<li>Advanced search must be enabled:</li>
<li>For GitLab.com and GitLab Dedicated, advanced search is
    enabled by default in paid subscriptions.</li>
<li>For GitLab Self-Managed, an administrator must
    <a href="../../integration/advanced_search/elasticsearch.md#enable-advanced-search">enable advanced search</a>.</li>
</ul>
<p>To use advanced search:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong>.</li>
<li>In the search box, enter your search term.</li>
</ol>
<p>You can also use advanced search in a project or group.</p>
<h2>Available scopes</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Searching comments on issues <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/513146">introduced</a> in GitLab 18.0 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>search_work_item_queries_notes</code>. Disabled by default.</li>
<li>Searching comments on issues <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/536912">enabled on GitLab.com</a> in GitLab 18.1.</li>
<li>Searching comments on issues <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/191369">generally available</a> in GitLab 18.6. Feature flag <code>search_work_item_queries_notes</code> removed.</li>
<li>Searching comments on merge requests <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/572590">introduced</a> in GitLab 18.6 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>search_merge_request_queries_notes</code>. Disabled by default.</li>
<li>Searching comments on merge requests <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/573750">generally available</a> in GitLab 18.7. Feature flag <code>search_merge_request_queries_notes</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Scopes describe the type of data you're searching.
The following scopes are available for advanced search:</p>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Global <sup>1</sup> <sup>2</sup></th>
<th>Group</th>
<th>Project</th>
</tr>
</thead>
<tbody>
<tr>
<td>Code</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Comments</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Commits</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Epics</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; no &gt;}}</td>
</tr>
<tr>
<td>Issues <sup>3</sup></td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Merge requests <sup>3</sup></td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Milestones</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Projects</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; no &gt;}}</td>
</tr>
<tr>
<td>Users</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
<tr>
<td>Wikis</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
<td>{{&lt; yes &gt;}}</td>
</tr>
</tbody>
</table>
<p><strong>Footnotes</strong>:</p>
<ol>
<li>An administrator can <a href="_index.md#disable-global-search-scopes">disable global search scopes</a>.
   On GitLab Self-Managed, global search is not available when limited indexing is enabled by default.
   An administrator can <a href="../../integration/advanced_search/elasticsearch.md#indexed-namespaces">enable global search for limited indexing</a>.</li>
<li>On GitLab.com, global search is not enabled for code, commits, and wikis.</li>
<li>When you search issues and merge requests, results
   include comments that match your search term.</li>
</ol>
<h2>Syntax</h2>
<!-- Remember to also update the tables in `doc/drawers/advanced_search_syntax.md` -->

<p>Advanced search uses <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html"><code>simple_query_string</code></a>,
which supports both exact and fuzzy queries.</p>
<p>When you search for a user, the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-fuzzy-query.html"><code>fuzzy</code></a> query is used by default.
You can refine user search with <code>simple_query_string</code>.</p>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>"</code></td>
<td>Exact search</td>
<td><code>"gem sidekiq"</code></td>
</tr>
<tr>
<td><code>~</code></td>
<td>Fuzzy search</td>
<td><code>J~ Doe</code></td>
</tr>
<tr>
<td><code>\|</code></td>
<td>Or</td>
<td><code>display \| banner</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>And</td>
<td><code>display +banner</code></td>
</tr>
<tr>
<td><code>-</code></td>
<td>Exclude</td>
<td><code>display -banner</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>Partial</td>
<td><code>bug error 50*</code></td>
</tr>
<tr>
<td><code>\</code></td>
<td>Escape</td>
<td><code>\*md</code></td>
</tr>
<tr>
<td><code>#</code></td>
<td>Issue ID</td>
<td><code>#23456</code></td>
</tr>
<tr>
<td><code>!</code></td>
<td>Merge request ID</td>
<td><code>!23456</code></td>
</tr>
</tbody>
</table>
<h3>Code search</h3>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filename:</code></td>
<td>Filename</td>
<td><code>filename:*spec.rb</code></td>
</tr>
<tr>
<td><code>path:</code></td>
<td>Repository location (full or partial matches)</td>
<td><code>path:spec/workers/</code></td>
</tr>
<tr>
<td><code>extension:</code></td>
<td>File extension without <code>.</code> (exact matches only)</td>
<td><code>extension:js</code></td>
</tr>
<tr>
<td><code>blob:</code></td>
<td>Git object ID (exact matches only)</td>
<td><code>blob:998707*</code></td>
</tr>
</tbody>
</table>
<h3>Examples</h3>
<table>
<thead>
<tr>
<th>Query</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rails -filename:gemfile.lock</code></td>
<td>Returns <code>rails</code> in all files except the <code>gemfile.lock</code> file.</td>
</tr>
<tr>
<td><code>RSpec.describe Resolvers -*builder</code></td>
<td>Returns <code>RSpec.describe Resolvers</code> that does not start with <code>builder</code>.</td>
</tr>
<tr>
<td><code>bug \| (display +banner)</code></td>
<td>Returns <code>bug</code> or both <code>display</code> and <code>banner</code>.</td>
</tr>
<tr>
<td><code>helper -extension:yml -extension:js</code></td>
<td>Returns <code>helper</code> in all files except files with a <code>.yml</code> or <code>.js</code> extension.</td>
</tr>
<tr>
<td><code>helper path:lib/git</code></td>
<td>Returns <code>helper</code> in all files with a <code>lib/git*</code> path (for example, <code>spec/lib/gitlab</code>).</td>
</tr>
</tbody>
</table>
<h2>Known issues</h2>
<ul>
<li>You can search only files smaller than 1 MB.
  For GitLab Self-Managed, an administrator can set a limit on the
  <a href="../../administration/instance_limits.md#maximum-file-size-indexed">maximum file size indexed</a>.</li>
<li>You can use advanced search only on the default branch of a project.
  For more information, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/229966">issue 229966</a>.</li>
<li>The search query must not contain any of the following characters:</li>
</ul>
<p><code>plaintext
  . , : ; / ` ' = ? $ &amp; ^ | &lt; &gt; ( ) { } [ ] @</code></p>
<ul>
<li>Search results show only the first match in a file.</li>
</ul>
<h2>Related topics</h2>
<ul>
<li><a href="../application_security/vulnerability_report/_index.md#advanced-vulnerability-management">Locate security vulnerabilities</a></li>
</ul></code></pre>
</body>
</html>
