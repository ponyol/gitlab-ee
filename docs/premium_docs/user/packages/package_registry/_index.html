<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Package workflows</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Package
group: Package Registry
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Package registry</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Free, Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/221259">Moved</a> from GitLab Premium to GitLab Free in 13.3.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>With the GitLab package registry, you can use GitLab as a private or public registry for a variety
of <a href="supported_functionality.html">supported package managers</a>.
You can publish and share packages, which can be consumed as a dependency in downstream projects.</p>
<h2>Package workflows</h2>
<p>Learn how to use the GitLab package registry to build your own custom package workflow:</p>
<ul>
<li>
<p><a href="../workflows/project_registry.html">Use a project as a package registry</a>
  to publish all of your packages to one project.</p>
</li>
<li>
<p>Publish multiple different packages from one <a href="../workflows/working_with_monorepos.html">monorepo project</a>.</p>
</li>
</ul>
<h2>View packages</h2>
<p>You can view packages for your project or group:</p>
<ol>
<li>Go to the project or group.</li>
<li>Go to <strong>Deploy</strong> &gt; <strong>Package registry</strong>.</li>
</ol>
<p>You can search, sort, and filter packages on this page. You can share your search results by copying
and pasting the URL from your browser.</p>
<p>You can also find helpful code snippets for configuring your package manager or installing a given package.</p>
<p>When you view packages in a group:</p>
<ul>
<li>All packages published to the group and its projects are displayed.</li>
<li>Only the projects you can access are displayed.</li>
<li>If a project is private, or you are not a member of the project, the packages from that project are not displayed.</li>
</ul>
<p>To learn how to create and upload a package, follow the instructions for your <a href="supported_functionality.html">package type</a>.</p>
<h2>Use GitLab CI/CD</h2>
<p>You can use <a href="../../../ci/_index.html">GitLab CI/CD</a> to build or import packages into
a package registry.</p>
<h3>To build packages</h3>
<p>You can authenticate with GitLab by using the <code>CI_JOB_TOKEN</code>.</p>
<p>To get started, you can use the available <a href="https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/templates">CI/CD templates</a>.</p>
<p>For more information about using the GitLab package registry with CI/CD, see:</p>
<ul>
<li><a href="../generic_packages/_index.md#publish-a-package">Generic</a></li>
<li><a href="../maven_repository/_index.md#create-maven-packages-with-gitlab-cicd">Maven</a></li>
<li><a href="../npm_registry/_index.md#publish-a-package-with-a-cicd-pipeline">npm</a></li>
<li><a href="../nuget_repository/_index.md#with-a-cicd-pipeline">NuGet</a></li>
<li><a href="../pypi_repository/_index.md#authenticate-with-the-gitlab-package-registry">PyPI</a></li>
<li><a href="../terraform_module_registry/_index.md#authenticate-to-the-terraform-module-registry">Terraform</a></li>
</ul>
<p>If you use CI/CD to build a package, extended activity information is displayed
when you view the package details:</p>
<p><img alt="Package CI/CD activity" src="img/package_activity_v12_10.png" /></p>
<p>You can view which pipeline published the package, and the commit and user who triggered it. However, the history is limited to five updates of a given package.</p>
<h3>To import packages</h3>
<p>If you already have packages built in a different registry, you can import them
into your GitLab package registry with the <a href="https://gitlab.com/gitlab-org/ci-cd/package-stage/pkgs_importer">package importer</a>.</p>
<p>For a list of supported packages, see <a href="supported_functionality.md#importing-packages-from-other-repositories">Importing packages from other repositories</a>.</p>
<h2>Reduce storage usage</h2>
<p>For information on reducing your storage use for the package registry, see
<a href="reduce_package_registry_storage.html">Reduce package registry storage use</a>.</p>
<h2>Turn off the package registry</h2>
<p>The package registry is automatically turned on.</p>
<p>On a GitLab Self-Managed instance, your administrator can remove
the <strong>Packages and registries</strong> menu item from the GitLab sidebar.
For more information,
see <a href="../../../administration/packages/_index.html">GitLab package registry administration</a>.</p>
<p>You can also remove the package registry for your project specifically:</p>
<ol>
<li>In your project, go to <strong>Settings</strong> &gt; <strong>General</strong>.</li>
<li>Expand the <strong>Visibility, project features, permissions</strong> section and disable the
   <strong>Packages</strong> feature.</li>
<li>Select <strong>Save changes</strong>.</li>
</ol>
<p>The <strong>Deploy</strong> &gt; <strong>Package registry</strong> entry is removed from the sidebar.</p>
<h2>Package registry visibility permissions</h2>
<p><a href="../../permissions.html">Project permissions</a>
determine which members and users can download, push, or delete packages.</p>
<p>The visibility of the package registry is independent of the repository and can be controlled from
your project's settings. For example, if you have a public project and set the repository visibility
to <strong>Only Project Members</strong>, the package registry is then public. Turning off the
<strong>Package registry</strong> toggle turns off all package registry operations.</p>
<table>
<thead>
<tr>
<th>Project visibility</th>
<th>Action</th>
<th>Minimum <a href="../../permissions.md#roles">role</a> required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Public</td>
<td>View package registry</td>
<td>N/A. Anyone on the internet can perform this action.</td>
</tr>
<tr>
<td>Public</td>
<td>Publish a package</td>
<td>Developer</td>
</tr>
<tr>
<td>Public</td>
<td>Pull a package</td>
<td>N/A. Anyone on the internet can perform this action.</td>
</tr>
<tr>
<td>Internal</td>
<td>View package registry</td>
<td>Guest</td>
</tr>
<tr>
<td>Internal</td>
<td>Publish a package</td>
<td>Developer</td>
</tr>
<tr>
<td>Internal</td>
<td>Pull a package</td>
<td>Guest (1)</td>
</tr>
<tr>
<td>Private</td>
<td>View package registry</td>
<td>Reporter</td>
</tr>
<tr>
<td>Private</td>
<td>Publish a package</td>
<td>Developer</td>
</tr>
<tr>
<td>Private</td>
<td>Pull a package</td>
<td>Reporter (1)</td>
</tr>
</tbody>
</table>
<h3>Allow anyone to pull from package registry</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/385994">Introduced</a> in GitLab 15.7.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468058">Changed</a> in GitLab 17.4 to support NuGet group endpoints.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468059">Changed</a> in GitLab 17.5 to support Maven group endpoint.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468062">Changed</a> in GitLab 17.5 to support Terraform module namespace endpoints.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>To allow anyone to pull from the package registry, regardless of project visibility:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your private or internal project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>General</strong>.</li>
<li>Expand <strong>Visibility, project features, permissions</strong>.</li>
<li>Turn on the <strong>Allow anyone to pull from package registry</strong> toggle.</li>
<li>Select <strong>Save changes</strong>.</li>
</ol>
<p>Anyone on the internet can access the package registry for the project.</p>
<h4>Disable allowing anyone to pull</h4>
<p>Prerequisites:</p>
<ul>
<li>You must be an administrator.</li>
</ul>
<p>To hide the <strong>Allow anyone to pull from package registry</strong> toggle globally:</p>
<ul>
<li><a href="../../../api/settings.md#update-application-settings">Update the application setting</a> <code>package_registry_allow_anyone_to_pull_option</code> to <code>false</code>.</li>
</ul>
<p>Anonymous downloads are turned off, even for projects that turned on the <strong>Allow anyone to pull from Package Registry</strong> toggle.</p>
<p>Several known issues exist when you allow anyone to pull from the package registry:</p>
<ul>
<li>Endpoints for projects are supported.</li>
<li>NuGet registry endpoints for groups are supported. However, because of how NuGet clients send the authentication credentials, anonymous downloads are not allowed. Only GitLab users can pull from the package registry, even if this setting is turned on.</li>
<li>Maven registry endpoints for groups are supported.</li>
<li>Terraform module registry endpoints for namespaces are supported.</li>
<li>Other group and instance endpoints are not fully supported. Support for group endpoints is proposed in <a href="https://gitlab.com/groups/gitlab-org/-/epics/14234">epic 14234</a>.</li>
<li>It does not work with the <a href="../composer_repository/_index.md#install-a-composer-package">Composer</a>, because Composer only has a group endpoint.</li>
<li>It works with Conan, but using <a href="../conan_1_repository/_index.md#search-for-conan-packages-in-the-package-registry"><code>conan search</code></a> does not work.</li>
</ul>
<h2>Audit events</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/329588">Introduced</a> in GitLab 17.10 <a href="../../../administration/feature_flags/_index.html">with a flag</a> named <code>package_registry_audit_events</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/554817">Generally available</a> in GitLab 18.2. Feature flag <code>package_registry_audit_events</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Create audit events when a package is published or deleted. Namespace Owners can turn on the <code>audit_events_enabled</code> setting through the <a href="../../../api/graphql/reference/_index.md#packagesettings">GraphQL API</a>.</p>
<p>You can view audit events:</p>
<ul>
<li>On the <a href="../../compliance/audit_events.md#group-audit-events"><strong>Group audit events</strong></a> page if the package's project is in a group.</li>
<li>On the <a href="../../compliance/audit_events.md#project-audit-events"><strong>Project audit events</strong></a> page if the package's project is in a user namespace.</li>
</ul>
<h2>Accepting contributions</h2>
<p>The following table lists package formats that are not supported.
Consider contributing to GitLab to add support for these formats.</p>
<!-- vale gitlab_base.Spelling = NO -->

<table>
<thead>
<tr>
<th>Format</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Conda</td>
<td><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/36891">#36891</a></td>
</tr>
<tr>
<td>CRAN</td>
<td><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/36892">#36892</a></td>
</tr>
<tr>
<td>RPM</td>
<td><a href="https://gitlab.com/groups/gitlab-org/-/epics/5128">#5932</a></td>
</tr>
<tr>
<td>Swift</td>
<td><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/12233">#12233</a></td>
</tr>
</tbody>
</table>
<!-- vale gitlab_base.Spelling = YES --></code></pre>
</body>
</html>
