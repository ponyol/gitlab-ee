<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Estimating import duration</title>
    <link rel="stylesheet" href="/../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Import
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Migrate from GitHub
description: "Import projects from GitHub to GitLab."</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Free, Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><strong>Imported</strong> badge <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/461208">introduced</a> in GitLab 17.2.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>You can import your GitHub projects from either GitHub.com or GitHub Enterprise. Importing projects does not
migrate or import any types of groups or organizations from GitHub to GitLab.</p>
<p>Imported issues, merge requests, comments, and events have an <strong>Imported</strong> badge in GitLab.</p>
<p>The namespace is a user or group in GitLab, such as <code>gitlab.com/sidney-jones</code> or
<code>gitlab.com/customer-success</code>.</p>
<p>Using the GitLab UI, the GitHub importer always imports from the
<code>github.com</code> domain. If you are importing from a self-hosted GitHub Enterprise Server domain, use the
<a href="#use-the-api">GitLab Import API</a> GitHub endpoint with a GitLab access token with the <code>api</code> scope.</p>
<p>You can change the target namespace and target repository name before you import.</p>
<p><i class="fa-youtube-play" aria-hidden="true"></i>
For an overview of the import process, see <a href="https://www.youtube.com/watch?v=0Id5oMl1Kqs">How to migrate from GitHub to GitLab including Actions</a>.</p>
<h2>Estimating import duration</h2>
<p>Every import from GitHub is different, which affects the duration of imports you perform. However, in testing, GitLab
imported <code>https://github.com/kubernetes/kubernetes</code> in 76 hours. Tests showed that the project comprised:</p>
<ul>
<li>80,000 pull requests.</li>
<li>45,000 issues.</li>
<li>Approximately 1.5 million comments.</li>
</ul>
<h2>Prerequisites</h2>
<p>To import projects from GitHub, you must enable the
<a href="../../../administration/settings/import_and_export_settings.md#configure-allowed-import-sources">GitHub import source</a>.
If that import source is not enabled, ask your GitLab administrator to enable it. The GitHub import source is enabled
by default on GitLab.com.</p>
<h3>Permissions and roles</h3>
<p>To use the GitHub importer, you must have:</p>
<ul>
<li>Access to the source GitHub project</li>
<li>At least the Maintainer role for the destination GitLab group (introduced in GitLab 16.0)</li>
</ul>
<p>Also, the organization the GitHub repository belongs to must not impose restrictions of a
<a href="https://docs.github.com/en/organizations/managing-oauth-access-to-your-organizations-data/about-oauth-app-access-restrictions">third-party application access policy</a>
on the GitLab instance you import to.</p>
<h3>Accounts for user contribution mapping</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/14667">Preparation requirement removed on GitLab.com</a> in GitLab 17.8.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Before using <a href="#old-method-of-user-contribution-mapping">the old method of user contribution mapping</a> for imports to GitLab Self-Managed and GitLab
Dedicated, you must meet certain requirements. Imports to GitLab.com use an <a href="../../import/mapping.html">improved method</a>
that doesn't require preparation.</p>
<p>These requirements are:</p>
<ul>
<li>Each GitHub author and assignee in the repository must have a
  <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address">public-facing email address</a>.</li>
<li>The GitHub user's email address must match their GitLab email address.</li>
<li>If a user's email address in GitHub is set as their secondary email address in GitLab, they must confirm it.</li>
</ul>
<p>GitHub Enterprise does not require a public email address, so you might have to add it to existing accounts.</p>
<h2>Known issues</h2>
<ul>
<li>GitHub pull request comments (known as diff notes in GitLab) created before 2017 are imported in separate threads.
  This occurs because of a limitation of the GitHub API that doesn't include <code>in_reply_to_id</code> for comments before 2017.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/424400">In GitLab 18.3 and earlier</a>, Markdown attachments
  from repositories on GitHub Enterprise Server instances are not imported.
  <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/553386">In GitLab 18.4 and later</a>:</li>
<li>Only video and image files in Markdown attachments are imported.</li>
<li>Other file attachments are not imported.</li>
<li>Because of a <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/418800">known issue</a>, when importing projects that used
  <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request">GitHub auto-merge</a>, the imported project in GitLab can have merge commits labeled <code>unverified</code> if the commit was signed with the GitHub internal GPG key.</li>
<li>GitLab <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/424046">can't import</a> GitHub Markdown image attachments that
  were uploaded to private repositories before 2023-05-09. If you encounter this problem and are willing to provide a sample repository,
  add a comment to <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/424046">issue 424046</a> and GitLab will contact you.</li>
<li>
<p>For <a href="../../markdown.md#gitlab-specific-references">GitLab-specific references</a>, GitLab uses the <code>#</code> character for issues and a <code>!</code> character for merge requests.
  However, GitHub uses only the <code>#</code> character for both issues and pull requests. When importing:</p>
</li>
<li>
<p>Comment notes, GitLab only creates links to issues because GitLab can't determine whether a references points to an
    issue or a merge request.</p>
</li>
<li>
<p>Issues or merge request descriptions, GitLab doesn't create links for any references because their imported
    counterparts might not have been created on the destination yet.</p>
</li>
<li>
<p>When importing from GitHub accounts with SAML single sign-on (SSO) enabled, Markdown attachments might fail to import. This issue is caused by a GitHub
  API limitation where assets cannot be downloaded using a personal access token when SSO is enforced. To workaround the issue, add the GitLab user performing
  the import as an
  <a href="https://docs.github.com/en/organizations/managing-user-access-to-your-organizations-repositories/managing-outside-collaborators/adding-outside-collaborators-to-repositories-in-your-organization">Outside Collaborator</a>
  to the GitHub repository. This permits access to private attachments during import.</p>
</li>
</ul>
<h2>Import your GitHub repository into GitLab</h2>
<p>You can import your GitHub repository by either:</p>
<ul>
<li><a href="#use-github-oauth">Using GitHub OAuth</a></li>
<li><a href="#use-a-github-personal-access-token">Using a GitHub personal access token</a></li>
<li><a href="#use-the-api">Using the API</a></li>
</ul>
<p>If importing from <code>github.com</code> you can use any method to import. Self-hosted GitHub Enterprise Server customers must use the API.</p>
<h3>Use GitHub OAuth</h3>
<p>If you are importing to GitLab.com or to a GitLab Self-Managed that has GitHub OAuth <a href="../../../integration/github.html">configured</a>, you can use GitHub OAuth to import your repository.</p>
<p>This method has an advantage over using a <a href="#use-a-github-personal-access-token">personal access token (PAT)</a>
because the backend exchanges the access token with the appropriate permissions.</p>
<ol>
<li>In the upper-right corner, select <strong>Create new</strong> ({{&lt; icon name="plus" &gt;}}) and <strong>New project/repository</strong>.</li>
<li>Select <strong>Import project</strong> and then <strong>GitHub</strong>.</li>
<li>Select <strong>Authorize with GitHub</strong>.</li>
<li>Proceed to <a href="#select-which-repositories-to-import">selecting which repositories to import</a>.</li>
</ol>
<p>To use a different method to perform an import after previously performing
these steps, sign out of your GitLab account and sign in again.</p>
<h3>Use a GitHub personal access token</h3>
<p>To import your GitHub repository using a GitHub personal access token:</p>
<ol>
<li>Generate a GitHub personal access token. Only classic personal access tokens are supported.</li>
<li>Go to <a href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a>.</li>
<li>In the <strong>Note</strong> field, enter a token description.</li>
<li>Select the <code>repo</code> scope.</li>
<li>Optional. To <a href="#select-additional-items-to-import">import collaborators</a>, or if your project has <a href="../../../topics/git/lfs/_index.html">Git LFS files</a>, select the <code>read:org</code> scope.</li>
<li>Select <strong>Generate token</strong>.</li>
<li>In the upper-right corner, select <strong>Create new</strong> ({{&lt; icon name="plus" &gt;}}) and <strong>New project/repository</strong>.</li>
<li>Select <strong>Import project</strong> and then <strong>GitHub</strong>.</li>
<li>Select <strong>Authorize with GitHub</strong>.</li>
<li>In the <strong>Personal access token</strong> field, paste the GitHub personal access token.</li>
<li>Select <strong>Authenticate</strong>.</li>
<li>Proceed to <a href="#select-which-repositories-to-import">selecting which repositories to import</a>.</li>
</ol>
<p>To use a different token to perform an import after previously performing
these steps, sign out of your GitLab account and sign in again, or revoke the
older token in GitHub.</p>
<h3>Use the API</h3>
<p>The <a href="../../../api/import.md#import-repository-from-github">GitLab REST API</a> can be used to import a GitHub repository. It has some advantages over using the GitLab UI:</p>
<ul>
<li>Can be used to import GitHub repositories that you do not own if they are public.</li>
<li>It can be used to import from a GitHub Enterprise Server that is self-hosted.</li>
<li>Can be used to set the <code>timeout_strategy</code> option that is not available to the UI.</li>
</ul>
<p>The REST API is limited to authenticating with GitLab personal access tokens.</p>
<p>To import your GitHub repository using the GitLab REST API:</p>
<ol>
<li>Generate a GitHub personal access token. Only classic personal access tokens are supported.</li>
<li>Go to <a href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a>.</li>
<li>In the <strong>Note</strong> field, enter a token description.</li>
<li>Select the <code>repo</code> scope.</li>
<li>Optional. To <a href="#select-additional-items-to-import">import collaborators</a>, or if your project has <a href="../../../topics/git/lfs/_index.html">Git LFS files</a>, select the <code>read:org</code> scope.</li>
<li>Select <strong>Generate token</strong>.</li>
<li>Use the <a href="../../../api/import.md#import-repository-from-github">GitLab REST API</a> to import your GitHub repository.</li>
</ol>
<h3>Filter repositories list</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/385113">Introduced</a> in GitLab 16.0.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>After you authorize access to your GitHub repositories, GitLab redirects you to the importer page and
your GitHub repositories are listed.</p>
<p>Use one of the following tabs to filter the list of repositories:</p>
<ul>
<li><strong>Owner</strong> (default): Filter the list to the repositories that you are the owner of.</li>
<li><strong>Collaborated</strong>: Filter the list to the repositories that you have contributed to.</li>
<li><strong>Organization</strong>: Filter the list to the repositories that belong to an organization you are a member of.</li>
</ul>
<p>When the <strong>Organization</strong> tab is selected, you can further narrow down your search by selecting an available GitHub organization from a dropdown list.</p>
<h3>Select additional items to import</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/139410">Introduced</a> in GitLab 16.8 <a href="../../../administration/feature_flags/_index.html">with a flag</a> named <code>github_import_extended_events</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/435089">Enabled on GitLab.com, GitLab Self-Managed, and GitLab Dedicated</a> in GitLab 16.9.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/146695">Generally available</a> in GitLab 16.11. Feature flag <code>github_import_extended_events</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>To make imports as fast as possible, the following items aren't imported from GitHub by default:</p>
<ul>
<li>More than approximately 30,000 comments because of a <a href="troubleshooting_github_import.md#missing-comments">limitation of the GitHub API</a>.</li>
<li>Markdown attachments from repository comments, release posts, issue descriptions, and pull request descriptions. These can include
  images, text, or binary attachments. If not imported, links in Markdown to attachments break after you remove the attachments from GitHub.</li>
</ul>
<p>You can choose to import these items, but this could significantly increase import time. To import these items, select the appropriate fields in the UI:</p>
<ul>
<li><strong>Use alternative comments import method</strong>. If importing GitHub projects with more than approximately 30,000 comments across all issues and pull requests, you should enable this method because of a
  <a href="troubleshooting_github_import.md#missing-comments">limitation of the GitHub API</a>.</li>
<li><strong>Import Markdown attachments</strong>.</li>
<li><strong>Import collaborators</strong> (selected by default). Leaving it selected might result in new users using a seat in the group or namespace,
  and being granted permissions <a href="#collaborators-members">as high as project owner</a>. Only direct collaborators are imported.
  Outside collaborators are never imported.
  <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/559224">In GitLab 18.4 and later</a>, when you import collaborators,
  the <a href="../../group/access_and_permissions.md#prevent-members-from-being-added-to-projects-in-a-group"><strong>Users cannot be added to projects in this group</strong> setting</a> is respected.</li>
</ul>
<h3>Select which repositories to import</h3>
<p>By default, the proposed repository namespaces match the names as they exist in GitHub, but based
on your permissions, you can choose to edit these names before you proceed to import any of them.</p>
<p>To select which repositories to import, next to any number of repositories select <strong>Import</strong> or
select <strong>Import all repositories</strong>.</p>
<p>Additionally, you can filter projects by name. If a filter is applied, <strong>Import all repositories</strong>
only imports matched repositories.</p>
<p>The <strong>Status</strong> column shows the import status of each repository. You can choose to keep the page
open and watch updates in real time or you can return to it later.</p>
<p>To cancel imports that are pending or in progress, next to the imported project, select <strong>Cancel</strong>.
If the import has already started, the imported files are kept.</p>
<p>To open a repository in GitLab URL after it has been imported, select its GitLab path.</p>
<p>Completed imports can be re-imported by selecting <strong>Re-import</strong> and specifying new name. This creates a new copy of the source project.</p>
<p><img alt="The GitHub importer page, which lists repositories to be imported into GitLab." src="img/import_projects_from_github_importer_v16_0.png" /></p>
<h3>Check status of imports</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Details of partially completed imports with a list of entities that failed to import <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/386748">introduced</a> in GitLab 16.1.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>After imports are completed, they can be in one of three states:</p>
<ul>
<li><strong>Complete</strong>: GitLab imported all repository entities.</li>
<li><strong>Partially completed</strong>: GitLab failed to import some repository entities.</li>
<li><strong>Failed</strong>: GitLab aborted the import after a critical error occurred.</li>
</ul>
<p>Expand <strong>Details</strong> to see a list of <a href="#imported-data">repository entities</a> that failed to import.</p>
<h2>Username mentions</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/477553">Introduced</a> in GitLab 17.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>GitLab adds backticks to username mentions in issues, merge requests, and notes.
These backticks prevent linking to an incorrect user with the same username on the GitLab instance.</p>
<h2>User contribution and membership mapping</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/14667">Changed on GitLab.com</a> to <a href="../../import/mapping.html"><strong>user contribution and membership mapping</strong></a> in GitLab 17.8.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/176675">Enabled on GitLab.com, GitLab Self-Managed, and GitLab Dedicated</a> in GitLab 17.8.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>The GitHub importer uses an <a href="../../import/mapping.html">improved method</a>
of mapping user contributions for GitLab.com, GitLab Self-Managed, and GitLab Dedicated.</p>
<h3>Old method of user contribution mapping</h3>
<p>You can use the old user contribution mapping method for imports to GitLab Self-Managed and GitLab Dedicated instances.
To use this method, <code>github_user_mapping</code> must be disabled.
For imports to GitLab.com, you must
use the <a href="../../import/mapping.html">improved method</a> instead.</p>
<p>Using the old method, when <a href="#accounts-for-user-contribution-mapping">user accounts are provisioned correctly</a>, users are mapped during the import.</p>
<p>If the requirements are not met, the importer can't map the particular user's contributions. In that case:</p>
<ul>
<li>The project creator is set as the author and assignee of issues and merge requests. The project creator is usually the
  user that initiated the import process. For some contributions that have a description or note such as pull requests,
  issue, notes, the importer amends the text with details of who originally created the contribution.</li>
<li>Reviewers and approvals added on pull requests in GitHub cannot be imported. In this case, the importer creates comments
  describing that non-existent users were added as reviewers and approvers. However, the actual reviewer status and
  approval are not applied to the merge request in GitLab.</li>
</ul>
<h2>Mirror a repository and share pipeline status</h2>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>Depending on your GitLab tier, <a href="../repository/mirror/_index.html">repository mirroring</a> can be set up to keep
your imported repository in sync with its GitHub copy.</p>
<p>Additionally, you can configure GitLab to send pipeline status updates back to GitHub with the
<a href="../integrations/github.html">GitHub Project Integration</a>.</p>
<p>If you import your project using <a href="../../../ci/ci_cd_for_external_repos/_index.html">CI/CD for external repository</a>, then both
features are automatically configured.</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Mirroring does not sync any new or updated pull requests from your GitHub project.</p>
<p>{{&lt; /alert &gt;}}</p>
<h2>Improve the speed of imports on GitLab Self-Managed instances</h2>
<p>Administrator access on the GitLab server is required for these steps.</p>
<h3>Increase the number of Sidekiq workers</h3>
<p>For large projects it may take a while to import all data. To reduce the time necessary, you can increase the number of
Sidekiq workers that process the following queues:</p>
<ul>
<li><code>github_importer</code></li>
<li><code>github_importer_advance_stage</code></li>
</ul>
<p>For an optimal experience, it's recommended having at least 4 Sidekiq processes (each running a number of threads equal
to the number of CPU cores) that only process these queues. It's also recommended that these processes run on separate
servers. For 4 servers with 8 cores this means you can import up to 32 objects (for example, issues) in parallel.</p>
<p>Reducing the time spent in cloning a repository can be done by increasing network throughput, CPU capacity, and disk
performance (by using high performance SSDs, for example) of the disks that store the Git repositories (for your GitLab instance).
Increasing the number of Sidekiq workers does not reduce the time spent cloning repositories.</p>
<h3>Enable GitHub OAuth using a GitHub Enterprise Cloud OAuth App</h3>
<p>If you belong to a <a href="https://docs.github.com/en/enterprise-cloud@latest/get-started/onboarding">GitHub Enterprise Cloud organization</a> you can configure GitLab Self-Managed to obtain a higher <a href="https://docs.github.com/en/rest/using-the-rest-api/rate-limits-for-the-rest-api?apiVersion=2022-11-28#primary-rate-limit-for-authenticated-users">GitHub API rate limit</a>.</p>
<p>GitHub API requests are usually subject to a rate limit of 5,000 requests per hour. Using the steps below, you obtain a higher 15,000 requests per hour rate limit, resulting in a faster overall import time.</p>
<p>Prerequisites:</p>
<ul>
<li>You have access to a
  <a href="https://docs.github.com/en/enterprise-cloud@latest/get-started/onboarding/getting-started-with-github-enterprise-cloud">GitHub Enterprise Cloud organization</a>.</li>
<li>GitLab is configured to enable <a href="../../../integration/github.md#enable-github-oauth-in-gitlab">GitHub OAuth</a>.</li>
</ul>
<p>To enable a higher rate limit:</p>
<ul>
<li><a href="../../../integration/github.md#create-an-oauth-app-in-github">Create an OAuth app in GitHub</a>. Ensure that the OAuth app is owned by the Enterprise Cloud Organization, not your personal GitHub account.</li>
<li>Perform the project import using <a href="#use-github-oauth">GitHub OAuth</a>.</li>
<li>Optional. By default, sign-in is enabled for all configured OAuth providers.
  If you want to enable GitHub OAuth for imports but you want to
  prevent the ability for users to sign in to your GitLab instance with GitHub,
  you can
  <a href="../../../integration/omniauth.md#enable-or-disable-sign-in-with-an-omniauth-provider-without-disabling-import-sources">disable sign-in with GitHub</a>.</li>
</ul>
<h2>Imported data</h2>
<p>The following items of a project are imported:</p>
<ul>
<li>All fork branches of the project related to open pull requests</li>
</ul>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Fork branches are imported with a naming scheme similar to <code>GH-SHA-username/pull-request-number/fork-name/branch</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<ul>
<li>All project branches</li>
<li>Attachments for:</li>
<li>Comments</li>
<li>Issue descriptions</li>
<li>Pull request descriptions</li>
<li>Release notes</li>
<li>Branch protection rules</li>
<li><a href="#collaborators-members">Collaborators (members)</a></li>
<li><a href="../../../topics/git/lfs/_index.html">Git LFS objects</a></li>
<li>Git repository data</li>
<li>Issue and pull request comments</li>
<li>Issue and pull request events (can be imported as an <a href="#select-additional-items-to-import">additional item</a>)</li>
<li>Issues</li>
<li>Labels</li>
<li>Milestones</li>
<li>Pull request assigned reviewers</li>
<li>Pull request merged by information</li>
<li>Pull request reviews</li>
<li>Pull request review comments</li>
<li>Pull request review replies to discussions</li>
<li>Pull request review suggestions</li>
<li>Pull requests</li>
<li>Release notes content</li>
<li>Repository descriptions</li>
<li>Wiki pages</li>
</ul>
<p>References to pull requests and issues are preserved. Each imported repository maintains visibility level unless that
<a href="../../public_access.md#restrict-use-of-public-or-internal-projects">visibility level is restricted</a>, in which case it
defaults to the default project visibility.</p>
<h3>Branch protection rules and project settings</h3>
<p>Imported GitHub branch protection rules are mapped to one of the following:</p>
<ul>
<li>GitLab branch protection rules</li>
<li>Project-wide GitLab settings</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">GitHub rule</th>
<th style="text-align: left;">GitLab rule</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Require conversation resolution before merging</strong> for the project's default branch</td>
<td style="text-align: left;"><strong>All threads must be resolved</strong> <a href="../merge_requests/_index.md#prevent-merge-unless-all-threads-are-resolved">project setting</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Require a pull request before merging</strong></td>
<td style="text-align: left;"><strong>No one</strong> option in the <strong>Allowed to push and merge</strong> <a href="../repository/branches/protected.md#protect-a-branch">branch protection settings</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Require signed commits</strong> for the project's default branch</td>
<td style="text-align: left;"><strong>Reject unsigned commits</strong> GitLab <a href="../repository/push_rules.md#require-signed-commits">push rule</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Allow force pushes - Everyone</strong></td>
<td style="text-align: left;"><strong>Allowed to force push</strong> <a href="../repository/branches/protected.md#allow-force-push">branch protection setting</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Require a pull request before merging - Require review from Code Owners</strong></td>
<td style="text-align: left;"><strong>Require approval from code owners</strong> <a href="../repository/branches/protected.md#require-code-owner-approval">branch protection setting</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Require a pull request before merging - Allow specified actors to bypass required pull requests</strong></td>
<td style="text-align: left;">List of users in the <strong>Allowed to push and merge</strong> <a href="../repository/branches/protected.md#protect-a-branch">branch protection settings</a>. Without a GitLab Premium subscription, the list of users that are allowed to push and merge is limited to roles.</td>
</tr>
</tbody>
</table>
<p>The <strong>Require status checks to pass before merging</strong> GitHub rule is not imported.
You can still create <a href="../merge_requests/status_checks.html">external status checks</a> manually.
For more information, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/370948">issue 370948</a>.</p>
<h3>Collaborators (members)</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Importing collaborators as an additional item <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/398154">introduced</a> in GitLab 16.0.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>These GitHub collaborator roles are mapped to these GitLab <a href="../../permissions.md#roles">member roles</a>:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">GitHub role</th>
<th style="text-align: left;">Mapped GitLab role</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Read</td>
<td style="text-align: left;">Guest</td>
</tr>
<tr>
<td style="text-align: left;">Triage</td>
<td style="text-align: left;">Reporter</td>
</tr>
<tr>
<td style="text-align: left;">Write</td>
<td style="text-align: left;">Developer</td>
</tr>
<tr>
<td style="text-align: left;">Maintain</td>
<td style="text-align: left;">Maintainer</td>
</tr>
<tr>
<td style="text-align: left;">Admin</td>
<td style="text-align: left;">Owner</td>
</tr>
</tbody>
</table>
<p>GitHub Enterprise Cloud has
<a href="https://docs.github.com/en/enterprise-cloud@latest/organizations/managing-user-access-to-your-organizations-repositories/managing-repository-roles/about-custom-repository-roles">custom repository roles</a>.
These roles aren't supported and cause partially completed imports.</p>
<p>To import GitHub collaborators, you must have at least the Write role on the GitHub project. Otherwise collaborators import is skipped.</p>
<h2>Import from GitHub Enterprise on an internal network</h2>
<p>If your GitHub Enterprise instance is on a internal network that is inaccessible to the internet, you can use a reverse proxy
to allow GitLab.com to access the instance.</p>
<p>The proxy needs to:</p>
<ul>
<li>Forward requests to the GitHub Enterprise instance.</li>
<li>Convert to the public proxy hostname all occurrences of the internal hostname in:</li>
<li>The API response body.</li>
<li>The API response <code>Link</code> header.</li>
</ul>
<p>GitHub API uses the <code>Link</code> header for pagination.</p>
<p>After configuring the proxy, test it by making API requests. Below there are some examples of commands to test the API:</p>
<pre><code class="language-shell">curl --header &quot;Authorization: Bearer &lt;YOUR-TOKEN&gt;&quot; &quot;https://{PROXY_HOSTNAME}/user&quot;

### URLs in the response body should use the proxy hostname

{
  &quot;login&quot;: &quot;example_username&quot;,
  &quot;id&quot;: 1,
  &quot;url&quot;: &quot;https://{PROXY_HOSTNAME}/users/example_username&quot;,
  &quot;html_url&quot;: &quot;https://{PROXY_HOSTNAME}/example_username&quot;,
  &quot;followers_url&quot;: &quot;https://{PROXY_HOSTNAME}/api/v3/users/example_username/followers&quot;,
  ...
  &quot;created_at&quot;: &quot;2014-02-11T17:03:25Z&quot;,
  &quot;updated_at&quot;: &quot;2022-10-18T14:36:27Z&quot;
}
</code></pre>
<pre><code class="language-shell">curl --head --header &quot;Authorization: Bearer &lt;YOUR-TOKEN&gt;&quot; &quot;https://{PROXY_DOMAIN}/api/v3/repos/{repository_path}/pulls?states=all&amp;sort=created&amp;direction=asc&quot;

### Link header should use the proxy hostname

HTTP/1.1 200 OK
Date: Tue, 18 Oct 2022 21:42:55 GMT
Server: GitHub.com
Content-Type: application/json; charset=utf-8
Cache-Control: private, max-age=60, s-maxage=60
...
X-OAuth-Scopes: repo
X-Accepted-OAuth-Scopes:
github-authentication-token-expiration: 2022-11-22 18:13:46 UTC
X-GitHub-Media-Type: github.v3; format=json
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4997
X-RateLimit-Reset: 1666132381
X-RateLimit-Used: 3
X-RateLimit-Resource: core
Link: &lt;https://{PROXY_DOMAIN}/api/v3/repositories/1/pulls?page=2&gt;; rel=&quot;next&quot;, &lt;https://{PROXY_DOMAIN}/api/v3/repositories/1/pulls?page=11&gt;; rel=&quot;last&quot;
</code></pre>
<p>Also test that cloning the repository using the proxy does not fail:</p>
<pre><code class="language-shell">git clone -c http.extraHeader=&quot;Authorization: basic &lt;base64 encode YOUR-TOKEN&gt;&quot; --mirror https://{PROXY_DOMAIN}/{REPOSITORY_PATH}.git
</code></pre>
<h3>Sample reverse proxy configuration</h3>
<p>The following configuration is an example on how to configure Apache HTTP Server as a reverse proxy</p>
<p>{{&lt; alert type="warning" &gt;}}</p>
<p>For simplicity, the snippet does not have configuration to encrypt the connection between the client and the proxy. However, for security reasons you should include that
configuration. See <a href="https://ssl-config.mozilla.org/#server=apache&amp;version=2.4.41&amp;config=intermediate&amp;openssl=1.1.1k&amp;guideline=5.6">sample Apache TLS/SSL configuration</a>.</p>
<p>{{&lt; /alert &gt;}}</p>
<pre><code class="language-plaintext"># Required modules
LoadModule filter_module lib/httpd/modules/mod_filter.so
LoadModule reflector_module lib/httpd/modules/mod_reflector.so
LoadModule substitute_module lib/httpd/modules/mod_substitute.so
LoadModule deflate_module lib/httpd/modules/mod_deflate.so
LoadModule headers_module lib/httpd/modules/mod_headers.so
LoadModule proxy_module lib/httpd/modules/mod_proxy.so
LoadModule proxy_connect_module lib/httpd/modules/mod_proxy_connect.so
LoadModule proxy_http_module lib/httpd/modules/mod_proxy_http.so
LoadModule ssl_module lib/httpd/modules/mod_ssl.so

&lt;VirtualHost GITHUB_ENTERPRISE_HOSTNAME:80&gt;
  ServerName GITHUB_ENTERPRISE_HOSTNAME

  # Enables reverse-proxy configuration with SSL support
  SSLProxyEngine On
  ProxyPass &quot;/&quot; &quot;https://GITHUB_ENTERPRISE_HOSTNAME/&quot;
  ProxyPassReverse &quot;/&quot; &quot;https://GITHUB_ENTERPRISE_HOSTNAME/&quot;

  # Replaces occurrences of the local GitHub Enterprise URL with the Proxy URL
  # GitHub Enterprise compresses the responses, the filters INFLATE and DEFLATE needs to be used to
  # decompress and compress the response back
  AddOutputFilterByType INFLATE;SUBSTITUTE;DEFLATE application/json
  Substitute &quot;s|https://GITHUB_ENTERPRISE_HOSTNAME|https://PROXY_HOSTNAME|ni&quot;
  SubstituteMaxLineLength 50M

  # GitHub API uses the response header &quot;Link&quot; for the API pagination
  # For example:
  #   &lt;https://example.com/api/v3/repositories/1/issues?page=2&gt;; rel=&quot;next&quot;, &lt;https://example.com/api/v3/repositories/1/issues?page=3&gt;; rel=&quot;last&quot;
  # The directive below replaces all occurrences of the GitHub Enterprise URL with the Proxy URL if the
  # response header Link is present
  Header edit* Link &quot;https://GITHUB_ENTERPRISE_HOSTNAME&quot; &quot;https://PROXY_HOSTNAME&quot;
&lt;/VirtualHost&gt;
</code></pre>
<h2>Related topics</h2>
<ul>
<li><a href="../../../administration/settings/import_and_export_settings.html">Import and export settings</a>.</li>
<li><a href="../../../administration/sidekiq/configuration_for_imports.html">Sidekiq configuration for imports</a>.</li>
<li><a href="../../../administration/sidekiq/extra_sidekiq_processes.html">Running multiple Sidekiq processes</a>.</li>
<li><a href="../../../administration/sidekiq/processing_specific_job_classes.html">Processing specific job classes</a>.</li>
</ul></code></pre>
</body>
</html>
