<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Prerequisites</title>
    <link rel="stylesheet" href="/../../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: AI-powered
group: Code Creation
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Set up Code Suggestions.
title: Set up Code Suggestions</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Add-on: GitLab Duo Core, Pro, or Enterprise, GitLab Duo with Amazon Q</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li>Changed to include GitLab Duo Core in GitLab 18.0.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>You can use GitLab Duo Code Suggestions in several different IDEs.
To set up Code Suggestions, follow the instructions for your IDE.</p>
<h2>Prerequisites</h2>
<p>To use Code Suggestions, you need:</p>
<ul>
<li>If you have GitLab Duo Core, <a href="../../../gitlab_duo/turn_on_off.md#turn-gitlab-duo-core-on-or-off">IDE features turned on</a>.</li>
<li>To confirm that Code Suggestions <a href="supported_extensions.md#supported-languages-by-ide">supports your preferred language</a>.
  Different IDEs support different languages.</li>
</ul>
<h2>Configure editor extension</h2>
<p>Code Suggestions is part of an editor extension. To use Code Suggestions:</p>
<ol>
<li>Install the extension in your IDE.</li>
<li>Authenticate with GitLab from the IDE. You can use either OAuth or a personal access token.</li>
<li>Configure the extension.</li>
</ol>
<p>Follow these steps for your IDE:</p>
<ul>
<li><a href="../../../../editor_extensions/visual_studio_code/setup.html">Visual Studio Code</a></li>
<li><a href="../../../../editor_extensions/visual_studio/setup.html">Visual Studio</a></li>
<li><a href="../../../../editor_extensions/jetbrains_ide/setup.html">GitLab Duo plugin for JetBrains IDEs</a></li>
<li><a href="../../../../editor_extensions/neovim/setup.html"><code>gitlab.vim</code> plugin for Neovim</a></li>
<li><a href="../../../../editor_extensions/eclipse/setup.html">GitLab for Eclipse</a></li>
</ul>
<h2>Turn on Code Suggestions</h2>
<p>Code Suggestions is turned on <a href="#prerequisites">if you meet the prerequisites</a>.
To confirm, open your IDE and verify if Code Suggestions works.</p>
<h3>VS Code</h3>
<p>To verify that Code Suggestions is turned on in VS Code:</p>
<ol>
<li>In VS Code, go to <strong>Settings</strong> &gt; <strong>Extensions</strong> &gt; <strong>GitLab Workflow</strong>.</li>
<li>Select <strong>Manage</strong> ({{&lt; icon name="settings" &gt;}}).</li>
<li>Ensure that <strong>GitLab</strong> &gt; <strong>Duo Code Suggestions: Enabled</strong> is selected.</li>
<li>Optional. For <strong>GitLab</strong> &gt; <strong>Duo Code Suggestions: Enabled Supported Languages</strong>,
   select the languages you want to suggest or generate code for.</li>
<li>Optional. For <strong>GitLab</strong> &gt; <strong>Duo Code Suggestions: Additional Languages</strong>, add other languages you'd like to use.</li>
</ol>
<h3>Visual Studio</h3>
<p>To verify that Code Suggestions is turned on in Visual Studio:</p>
<ol>
<li>In Visual Studio, on the bottom status bar, point to the GitLab icon.</li>
<li>When Code Suggestions is enabled, the icon tooltip shows <code>GitLab code suggestions are enabled.</code></li>
<li>If Code Suggestions are not enabled, on the top bar select <strong>Extensions</strong> &gt; <strong>GitLab</strong> &gt; <strong>Toggle Code Suggestions</strong> to enable it.</li>
</ol>
<h3>JetBrains IDEs</h3>
<p>To verify that Code Suggestions is turned on in JetBrains IDEs:</p>
<ol>
<li>In your IDE, on the top bar, select your IDE's name, then select <strong>Settings</strong>.</li>
<li>On the left sidebar, expand <strong>Tools</strong>, then select <strong>GitLab Duo</strong>.</li>
<li>In the <strong>Features</strong> section, ensure that <strong>Enable Code Suggestions</strong> and <strong>Enable GitLab Duo Chat</strong> are selected.</li>
<li>Select <strong>OK</strong> or <strong>Save</strong>.</li>
</ol>
<h4>Add a custom certificate for Code Suggestions</h4>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab-jetbrains-plugin/-/issues/561">Introduced</a> in GitLab Duo 2.10.0.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>GitLab Duo attempts to detect <a href="https://www.jetbrains.com/help/idea/ssl-certificates.html">trusted root certificates</a>
without configuration on your part. If needed, configure your JetBrains IDE to allow the GitLab Duo plugin
to use a custom SSL certificate when connecting to your GitLab instance.</p>
<p>To use a custom SSL certificate with GitLab Duo:</p>
<ol>
<li>In your IDE, on the top bar, select your IDE name, then select <strong>Settings</strong>.</li>
<li>On the left sidebar, expand <strong>Tools</strong>, then select <strong>GitLab Duo</strong>.</li>
<li>Under <strong>Connection</strong>, enter the <strong>URL to GitLab instance</strong>.</li>
<li>To verify your connection, select <strong>Verify setup</strong>.</li>
<li>Select <strong>OK</strong> or <strong>Save</strong>.</li>
</ol>
<p>If your IDE detects a non-trusted SSL certificate:</p>
<ol>
<li>The GitLab Duo plugin displays a confirmation dialog.</li>
<li>Review the SSL certificate details shown.</li>
<li>Confirm the certificate details match the certificate shown when you connect to GitLab in your browser.</li>
<li>If the certificate matches your expectations, select <strong>Accept</strong>.</li>
</ol>
<p>To review certificates you've already accepted:</p>
<ol>
<li>In your IDE, on the top bar, select your IDE name, then select <strong>Settings</strong>.</li>
<li>On the left sidebar, select <strong>Tools</strong> &gt; <strong>Server Certificates</strong>.</li>
<li>Select <a href="https://www.jetbrains.com/help/idea/settings-tools-server-certificates.html"><strong>Server Certificates</strong></a>.</li>
<li>Select a certificate to view it.</li>
</ol>
<h3>Eclipse</h3>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>To enable GitLab Duo Code Suggestions, open an Eclipse project. If you open a single file, Code Suggestions is disabled for all file types.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>To verify that Code Suggestions is turned on in Eclipse:</p>
<ol>
<li>In Eclipse, open your GitLab project.</li>
<li>In the Eclipse bottom toolbar, select the GitLab icon.</li>
</ol>
<p><strong>Code Suggestions</strong> displays as "Enabled".</p>
<h3>Neovim</h3>
<p>Code Suggestions provides a LSP (Language Server Protocol) server, to support the built-in
<kbd>Control</kbd>+<kbd>x</kbd>, <kbd>Control</kbd>+<kbd>o</kbd> Omni Completion key mapping:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Key mappings</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>INSERT</code></td>
<td><kbd>Control</kbd>+<kbd>x</kbd>, <kbd>Control</kbd>+<kbd>o</kbd></td>
<td>Built-in</td>
<td>Requests completions from GitLab Duo Code Suggestions through the language server.</td>
</tr>
<tr>
<td><code>NORMAL</code></td>
<td><code>&lt;Plug&gt;(GitLabToggleCodeSuggestions)</code></td>
<td><code>&lt;Plug&gt;</code></td>
<td>Toggles Code Suggestions on or off for the current buffer. Requires <a href="../../../../editor_extensions/neovim/setup.md#configure-plug-key-mappings">configuration</a>.</td>
</tr>
</tbody>
</table>
<h2>Verify that Code Suggestions is on</h2>
<p>All editor extensions from GitLab, except Neovim, add an icon to your IDE's status bar.
For example, in Visual Studio:</p>
<p><img alt="The status bar in Visual Studio." src="img/visual_studio_status_bar_v17_4.png" /></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Icon</th>
<th style="text-align: left;">Status</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">{{&lt; icon name="tanuki-ai" &gt;}}</td>
<td style="text-align: left;"><strong>Ready</strong></td>
<td style="text-align: left;">You've configured and enabled GitLab Duo, and you're using a language that supports Code Suggestions.</td>
</tr>
<tr>
<td style="text-align: left;">{{&lt; icon name="tanuki-ai-off" &gt;}}</td>
<td style="text-align: left;"><strong>Not configured</strong></td>
<td style="text-align: left;">You haven't entered a personal access token, or you're using a language that Code Suggestions doesn't support.</td>
</tr>
<tr>
<td style="text-align: left;"><img alt="The status icon for fetching Code Suggestions." src="img/code_suggestions_loading_v17_4.svg" /></td>
<td style="text-align: left;"><strong>Loading suggestion</strong></td>
<td style="text-align: left;">GitLab Duo is fetching Code Suggestions for you.</td>
</tr>
<tr>
<td style="text-align: left;"><img alt="The status icon for a Code Suggestions error." src="img/code_suggestions_error_v17_4.svg" /></td>
<td style="text-align: left;"><strong>Error</strong></td>
<td style="text-align: left;">GitLab Duo has encountered an error.</td>
</tr>
</tbody>
</table>
<h2>Turn off Code Suggestions</h2>
<p>The process for turning off Code Suggestions is different for each IDE.</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>You cannot turn off code generation and code completion separately.</p>
<p>{{&lt; /alert &gt;}}</p>
<h3>VS Code</h3>
<p>To turn off Code Suggestions in VS Code:</p>
<ol>
<li>Go to <strong>Code</strong> &gt; <strong>Settings</strong> &gt; <strong>Extensions</strong>.</li>
<li>Select <strong>Manage</strong> ({{&lt; icon name="settings" &gt;}}) &gt; <strong>Settings</strong>.</li>
<li>Clear the <strong>GitLab Duo Code Suggestions</strong> checkbox.</li>
</ol>
<p>Instead, you can <a href="../../../../editor_extensions/visual_studio_code/settings.md#extension-settings">set <code>gitlab.duoCodeSuggestions.enabled</code> to <code>false</code> in the VS Code <code>settings.json</code> file</a>.</p>
<h3>Visual Studio</h3>
<p>To turn Code Suggestions on or off without uninstalling the extension,
<a href="../../../../editor_extensions/visual_studio/setup.md#configure-the-extension">assign a keyboard shortcut to the <code>GitLab.ToggleCodeSuggestions</code> custom command</a>.</p>
<p>To disable or uninstall the extension, see the
<a href="https://learn.microsoft.com/en-us/visualstudio/ide/finding-and-using-visual-studio-extensions?view=vs-2022#uninstall-or-disable-an-extension">Microsoft Visual Studio documentation on uninstalling or disabling the extension</a>.</p>
<h3>JetBrains IDEs</h3>
<p>The process to disable GitLab Duo, including Code Suggestions, is the same
regardless of which JetBrains IDE you use.</p>
<ol>
<li>In your JetBrains IDE, go to settings and select the plugins menu.</li>
<li>Under the installed plugins, find the GitLab Duo plugin.</li>
<li>Disable the plugin.</li>
</ol>
<p>For more information, see the <a href="https://www.jetbrains.com/help/">JetBrains product documentation</a>.</p>
<h3>Eclipse</h3>
<p>To disable Eclipse Code Suggestions for a project:</p>
<ol>
<li>In the Eclipse bottom toolbar, select the GitLab icon.</li>
<li>Select <strong>Disable Code Suggestions</strong> to disable Code Suggestions for the current project.</li>
</ol>
<p>To disable Eclipse Code Suggestions for a specific language:</p>
<ol>
<li>In the Eclipse bottom toolbar, select the GitLab icon.</li>
<li>Select <strong>Show Settings</strong>.</li>
<li>Scroll down to the <strong>Code Suggestions Enabled Languages</strong> section and clear the checkbox for the language you wish to disable.</li>
</ol>
<h3>Neovim</h3>
<ol>
<li>Go to the <a href="https://gitlab.com/gitlab-org/editor-extensions/gitlab.vim/-/blob/main/lua/gitlab/config/defaults.lua">Neovim <code>defaults.lua</code> settings file</a>.</li>
<li>Under <code>code_suggestions</code>, change the <code>enabled =</code> flag to <code>false</code>:</li>
</ol>
<p><code>lua
   code_suggestions = {
   ...
    enabled = false,</code></p>
<h3>Turn off GitLab Duo</h3>
<p>Alternatively, you can <a href="../../../gitlab_duo/turn_on_off.html">turn off GitLab Duo</a> (which includes Code Suggestions) completely for a group, project, or instance.</p></code></pre>
</body>
</html>
