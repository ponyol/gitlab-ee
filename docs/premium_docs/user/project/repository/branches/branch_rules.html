<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># View branch rules</title>
    <link rel="stylesheet" href="/../../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Source Code
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Understand how to name, manage, and protect Git branches.
title: Branch rules</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Free, Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>GitLab provides multiple methods to protect individual branches. These methods
ensure your branches receive oversight and quality checks from their creation to their deletion:</p>
<ul>
<li>Apply enhanced security and protection to your project's <a href="default.html">default branch</a>.</li>
<li>Configure <a href="protected.html">protected branches</a> to:</li>
<li>Limit who can push and merge to a branch.</li>
<li>Manage if users can force push to the branch.</li>
<li>Manage if changes to files listed in the <code>CODEOWNERS</code> file can be pushed directly to the branch.</li>
<li>Configure <a href="../../merge_requests/approvals/rules.md#approvals-for-protected-branches">approval rules</a> to manage review requirements and implement <a href="../../merge_requests/approvals/rules.md#security-approvals">security-related approvals</a>.</li>
<li>Integrate with third-party <a href="../../merge_requests/status_checks.html">status checks</a>
  to ensure the contents of your branch meets your defined quality standards.</li>
</ul>
<p>You can manage your branches:</p>
<ul>
<li>With the GitLab user interface.</li>
<li>With Git on the command line.</li>
<li>With the <a href="../../../../api/branches.html">Branches API</a>.</li>
</ul>
<h2>View branch rules</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/123368">Generally available</a> in GitLab 16.1. Feature flag <code>branch_rules</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>The branch rules overview page shows all branches with any configured protections,
and their protection methods:</p>
<p><img alt="Example of a branch with configured protections" src="img/view_branch_protections_v15_10.png" /></p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
</ul>
<p>To view the branch rules overview list:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong> to view all branches with protections.</li>
</ol>
<h3>View branch rule details</h3>
<p>To view branch rules and protections for a single branch:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong> to view all branches with protections.</li>
<li>Identify the branch you want and select <strong>View details</strong>.</li>
</ol>
<h2>Create a branch rule</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">Introduced</a> in GitLab 16.8 with a flag named <code>add_branch_rules</code>. Disabled by default.</li>
<li>Feature flag <code>add_branch_rules</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">renamed</a> to <code>edit_branch_rules</code> in GitLab 16.11. Disabled by default.</li>
<li><strong>All branches</strong> and <strong>All protected branches</strong> options <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/388129">introduced</a> in GitLab 17.0.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab.com</a> in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab Self-Managed and GitLab Dedicated</a> in GitLab 17.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
</ul>
<p>To create a branch rule:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong>.</li>
<li>Select <strong>Add branch rule</strong>.</li>
<li>Choose one of the following options:</li>
<li>To enter a specific branch name or pattern:<ol>
<li>Select <strong>Branch name or pattern</strong>.</li>
<li>From the <strong>Create branch rule</strong> dropdown list, select a branch name or create a <a href="protected.md#use-wildcard-rules">wildcard</a> with <code>*</code>.</li>
</ol>
</li>
<li>To protect all branches in the project:<ol>
<li>Select <strong>All branches</strong>.</li>
<li>On the rule's details page, under <strong>Merge request approvals</strong>, enter the required number of approvals for the rule.</li>
</ol>
</li>
<li>To protect all branches in the project that are already specified as protected:<ol>
<li>Select <strong>All protected branches</strong>.</li>
<li>On the rule's details page, under <strong>Merge request approvals</strong>, enter the required number of approvals for the rule.</li>
</ol>
</li>
</ol>
<h3>Add a branch rule protection</h3>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Not available for <code>all branches</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>To add protections to a new branch:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong>.</li>
<li>Select <strong>Add branch rule</strong>.</li>
<li>Select one of <strong>All protected branches</strong> or <strong>Branch name or pattern</strong>.</li>
<li>Select <strong>Create branch rule</strong>.</li>
</ol>
<h3>Add an approval rule</h3>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Not available for <code>all branches</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
</ul>
<p>To add a merge request approval rule:</p>
<ol>
<li>From the <a href="#view-branch-rule-details">branch rule details</a> page, go to the <strong>Merge request approvals</strong> section.</li>
<li>In the <strong>Approval rules</strong> section, select <strong>Add approval rule</strong>.</li>
<li>On the right sidebar, complete the fields:</li>
<li>Enter a <strong>Rule name</strong>.</li>
<li>
<p>In <strong>Required number of approvals</strong>, enter a value (<code>0</code>-<code>100</code>).</p>
<p>A value of <code>0</code> makes <a href="../../merge_requests/approvals/rules.md#configure-optional-approval-rules">the rule optional</a>, and any number greater than <code>0</code> creates a required rule.
 The maximum number of required approvals is <code>100</code>.
   - Select users or groups that are
 <a href="../../merge_requests/approvals/rules.md#eligible-approvers">eligible to approve</a>.</p>
<p>GitLab suggests approvers based on previous authors of the files changed by the merge request.
1. Select <strong>Save changes</strong>.</p>
</li>
</ol>
<p>For additional information, see <a href="../../merge_requests/approvals/rules.md#approvals-for-protected-branches">Approval rules</a>.</p>
<h3>Edit squash commits option</h3>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/181370">Introduced</a> in GitLab 17.9 with a flag named <code>branch_rule_squash_settings</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/506542">Enabled on GitLab.com, GitLab Self-Managed, and GitLab Dedicated</a> in GitLab 17.10.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/524860">Generally available</a> in GitLab 17.11. Feature flag <code>branch_rule_squash_settings</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
<li>In GitLab Free, this feature is available only if the branch rule targets <strong>All branches</strong>.</li>
<li>In GitLab Premium and GitLab Ultimate, this feature is available for all branch rules.</li>
</ul>
<p>To edit a squash option:</p>
<ol>
<li>From the <a href="#view-branch-rule-details">branch rule details</a> page, go to the <strong>Squash commits when merging</strong> section.</li>
<li>Select <strong>Edit</strong>.</li>
<li>
<p>Select one of the following options:</p>
</li>
<li>
<p><strong>Default</strong>: Removes the branch-level squash setting and inherits from the project's default settings.
     This option is not available for the <strong>All branches</strong> rule, which defines the project's default settings.</p>
</li>
<li><strong>Do not allow</strong>: Squashing is never allowed and the checkbox is hidden.</li>
<li><strong>Allow</strong>: Checkbox is visible and unselected by default.</li>
<li><strong>Encourage</strong>: Checkbox is visible and selected by default.</li>
<li>
<p><strong>Require</strong>: Squashing is always performed. Checkbox is visible and selected, and users cannot change it.</p>
</li>
<li>
<p>Select <strong>Save changes</strong>.</p>
</li>
</ol>
<h3>Add a status check service</h3>
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/12522">Introduced</a> in GitLab 17.4 <a href="../../../../administration/feature_flags/_index.html">with a flag</a> named <code>edit_branch_rules</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab.com</a> in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab Self-Managed and GitLab Dedicated</a> in GitLab 17.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Not available for <code>all protected branches</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>To add a status check service:</p>
<ol>
<li>From the <a href="#view-branch-rule-details">branch rule details</a> page, go to the <strong>Status checks</strong> section.</li>
<li>Select <strong>Add status check</strong>.</li>
<li>Enter the <strong>Service name</strong>.</li>
<li>In the <strong>API to check</strong> field, enter the URL.</li>
</ol>
<p>You should use an HTTPS URL to protect your merge request data in transit.</p>
<p><img alt="Branch rules status checks" src="img/branch_rule_status_check_v17_4.png" /></p>
<p>For more information, see <a href="../../merge_requests/status_checks.html">External status checks</a>.</p>
<h2>Edit a branch rule target</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">Introduced</a> in GitLab 16.8 with a flag named <code>add_branch_rules</code>. Disabled by default.</li>
<li>Feature flag <code>add_branch_rules</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">renamed</a> to <code>edit_branch_rules</code> in GitLab 16.11. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab.com</a> in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab Self-Managed and GitLab Dedicated</a> in GitLab 17.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
</ul>
<p>To edit a branch rule target:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong> to view all branches with protections.</li>
<li>Identify the branch you want and select <strong>View details</strong>.</li>
<li>In the <strong>Rule target</strong> section, select <strong>Edit</strong>.</li>
<li>Edit the information as needed.</li>
<li>Select <strong>Update</strong>.</li>
</ol>
<h3>Edit a branch rule protection</h3>
<p>For information about branch protection controls, see <a href="protected.html">Protected branches</a>.</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Not available for <code>all branches</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<h2>Delete a branch rule</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">Introduced</a> in GitLab 16.8 with a flag named <code>add_branch_rules</code>. Disabled by default.</li>
<li>Feature flag <code>add_branch_rules</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88279">renamed</a> to <code>edit_branch_rules</code> in GitLab 16.11. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab.com</a> in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/454501">Enabled on GitLab Self-Managed and GitLab Dedicated</a> in GitLab 17.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>{{&lt; alert type="flag" &gt;}}</p>
<p>The availability of this feature is controlled by a feature flag.
For more information, see the history.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Deleting a branch rule is not available for rules targeting <code>all branches</code>.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>Prerequisites:</p>
<ul>
<li>You must have at least the Maintainer role for the project.</li>
</ul>
<p>To delete a branch rule:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Settings</strong> &gt; <strong>Repository</strong>.</li>
<li>Expand <strong>Branch rules</strong>.</li>
<li>Next to a rule you want to delete, select <strong>View details</strong>.</li>
<li>In the upper-right corner, select <strong>Delete rule</strong>.</li>
<li>On the confirmation dialog, select <strong>Delete branch rule</strong>.</li>
</ol>
<h2>Related topics</h2>
<ul>
<li><a href="default.html">Default branch</a></li>
<li><a href="protected.html">Protected branches</a></li>
<li><a href="../protect.html">Protect your repository</a></li>
<li><a href="strategies/_index.html">Branching strategies</a></li>
<li><a href="../../merge_requests/approvals/_index.html">Merge request approvals</a></li>
</ul></code></pre>
</body>
</html>
