<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Code Owners and approval rules</title>
    <link rel="stylesheet" href="/../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Source Code
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Use Code Owners to define experts for your codebase, and set review requirements based on file type or location.
title: Code Owners</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>Use the Code Owners feature to define who has expertise for specific parts of your project's codebase.
Define the owners of files and directories in a repository to:</p>
<ul>
<li>Require owners to approve changes. Combine protected branches with Code Owners to require
  experts to approve merge requests before they merge into a protected branch. For more information,
  see <a href="#code-owners-and-protected-branches">Code Owners and protected branches</a>.</li>
<li>Identify owners. Code Owner names are displayed on the files and directories they own:</li>
</ul>
<p><img alt="File view showing the Code Owners listed below a description of the most recent change." src="img/codeowners_in_UI_v15_10.png" /></p>
<h2>Code Owners and approval rules</h2>
<p>Combine Code Owners with merge request
<a href="../merge_requests/approvals/rules.html">approval rules</a> (either optional or required)
to build a flexible approval workflow:</p>
<ul>
<li>Use Code Owners to ensure quality. Define the users who have domain expertise
  for specific paths in your repository.</li>
<li>Use approval rules to define areas of expertise that don't correspond to specific
  file paths in your repository. Approval rules help guide merge request creators to
  the correct set of reviewers, such as frontend developers or a security team.</li>
</ul>
<p>For example:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Scope</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Approval rule</td>
<td>UX</td>
<td>All files</td>
<td>A user experience (UX) team member reviews the user experience of all changes made in your project.</td>
</tr>
<tr>
<td>Approval rule</td>
<td>Security</td>
<td>All files</td>
<td>A security team member reviews all changes for vulnerabilities.</td>
</tr>
<tr>
<td>Code Owner approval rule</td>
<td>Frontend: Code Style</td>
<td><code>*.css</code> files</td>
<td>A frontend engineer reviews CSS file changes for adherence to project style standards.</td>
</tr>
<tr>
<td>Code Owner approval rule</td>
<td>Backend: Code Review</td>
<td><code>*.rb</code> files</td>
<td>A backend engineer reviews the logic and code style of Ruby files.</td>
</tr>
</tbody>
</table>
<div class="video-fallback">
  Video introduction: <a href="https://www.youtube.com/watch?v=RoyBySTUSB0">Code Owners</a>.
</div>
<figure class="video-container">
  <iframe src="https://www.youtube-nocookie.com/embed/RoyBySTUSB0" frameborder="0" allowfullscreen> </iframe>
</figure>

<p>For information about who is eligible to approve merge requests as either an approver or Code Owner, see <a href="../merge_requests/approvals/rules.md#approver-by-membership-type">Approver by membership type</a>.</p>
<h2>Code Owners and protected branches</h2>
<p>To ensure merge request changes are reviewed and approved by Code Owners, specified in the
<a href="#codeowners-file"><code>CODEOWNERS</code> file</a>, the merge request's target branch must be
<a href="../repository/branches/protected.html">protected</a>
and <a href="../repository/branches/protected.md#require-code-owner-approval">Code Owner approval</a> must be enabled.</p>
<p>The following features are available when you enable Code Owner approvals on protected branches:</p>
<ul>
<li><a href="../repository/branches/protected.md#require-code-owner-approval">Require approvals from Code Owners</a>.</li>
<li><a href="advanced.md#require-multiple-approvals-from-code-owners">Require multiple approvals from Code Owners</a>.</li>
<li><a href="reference.md#optional-sections">Optional approvals from Code Owners</a>.</li>
</ul>
<h3>Practical example</h3>
<p>Your project contains sensitive and important information in a <code>config/</code> directory. You can:</p>
<ol>
<li>Assign ownership of the directory. To do this, set up a <code>CODEOWNERS</code> file.</li>
<li>Create a protected branch for your default branch. For example, <code>main</code>.</li>
<li>Enable <strong>Required approval from code owners</strong> on the protected branch.</li>
<li>Optional. Edit the <code>CODEOWNERS</code> file to add a rule for multiple approvals.</li>
</ol>
<p>With this configuration, merge requests that change files in the <code>config/</code>directory and target the <code>main</code> branch
require approval from the designated Code Owners before merging.</p>
<h3>Allowed to push and merge to a protected branch</h3>
<p>Users who are <strong>Allowed to push and merge</strong> can choose to create a merge request
for their changes, or push the changes directly to a branch. If the user
skips the merge request process, the protected branch features
and Code Owner approvals built into merge requests are also skipped.</p>
<p>This permission is often granted to accounts associated with
automation (<a href="../../../administration/internal_users.html">internal users</a>)
and release tooling.</p>
<p>All changes from users without the <strong>Allowed to push</strong> permission must be routed through a merge request.</p>
<h2>View Code Owners of a file or directory</h2>
<p>To view the Code Owners of a file or directory:</p>
<ol>
<li>On the top bar, select <strong>Search or go to</strong> and find your project.</li>
<li>Select <strong>Code</strong> &gt; <strong>Repository</strong>.</li>
<li>Go to the file or directory you want to see the Code Owners for.</li>
<li>Optional. Select a branch or tag.</li>
</ol>
<p>GitLab shows the Code Owners at the top of the page.</p>
<h2>Set up Code Owners</h2>
<p>Prerequisites:</p>
<ul>
<li>
<p>You must have permissions to push to the default branch or to create a merge request.</p>
</li>
<li>
<p>Create a <code>CODEOWNERS</code> file in your <a href="#codeowners-file">preferred location</a>.</p>
</li>
<li>Define some rules in the file following the <a href="reference.html"><code>CODEOWNERS</code> syntax</a>.
   Some suggestions:</li>
<li>Configure <a href="../merge_requests/approvals/rules.md#code-owners-as-approvers">All eligible approvers</a> approval rule.</li>
<li><a href="../repository/branches/protected.md#require-code-owner-approval">Require Code Owner approval</a> on a protected branch.</li>
<li>Commit your changes, and push them up to GitLab.</li>
</ul>
<h2><code>CODEOWNERS</code> file</h2>
<p>The <code>CODEOWNERS</code> file defines who is responsible for code in a GitLab project.
Its purpose is to:</p>
<ul>
<li>Define Code Owners for specific files and directories.</li>
<li>Enforce approval requirements for protected branches.</li>
<li>Communicate code ownership in a project.</li>
</ul>
<p>This file determines who should review and approve changes and ensures the right
experts are involved in code changes.</p>
<p>Each repository uses a single <code>CODEOWNERS</code> file. GitLab checks these locations
in your repository in this order. The first <code>CODEOWNERS</code> file found is used, and
all others are ignored:</p>
<ol>
<li>In the root directory: <code>./CODEOWNERS</code>.</li>
<li>In the <code>docs</code> directory: <code>./docs/CODEOWNERS</code>.</li>
<li>In the <code>.gitlab</code> directory: <code>./.gitlab/CODEOWNERS</code>.</li>
</ol>
<p>For more information, see <a href="reference.html"><code>CODEOWNERS</code> syntax</a> and <a href="advanced.html">Advanced <code>CODEOWNERS</code> configuration</a>.</p>
<h2>Related topics</h2>
<ul>
<li><a href="reference.html"><code>CODEOWNERS</code> syntax</a></li>
<li><a href="advanced.html">Advanced <code>CODEOWNERS</code> configuration</a></li>
<li><a href="troubleshooting.html">Troubleshooting Code Owners</a></li>
<li><a href="../repository/protect.html">Protect your repository</a></li>
<li><a href="../repository/branches/protected.html">Protected branches</a></li>
</ul></code></pre>
</body>
</html>
