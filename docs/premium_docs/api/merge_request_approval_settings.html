<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Group MR approval settings</title>
    <link rel="stylesheet" href="/../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Source Code
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Documentation for the REST API for merge request approval settings in GitLab.
title: Merge request approval settings API</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>Use this API to manage group and project <a href="../user/project/merge_requests/approvals/settings.html">merge request approval settings</a>.
All endpoints require authentication.</p>
<h2>Group MR approval settings</h2>
<p>Prerequisites:</p>
<ul>
<li>You must have the Owner role in the group.</li>
</ul>
<h3>Get group MR approval settings</h3>
<p>Get the merge request approval settings of a group.</p>
<pre><code class="language-plaintext">GET /groups/:id/merge_request_approval_setting
</code></pre>
<p>Parameters:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/:id/merge_request_approval_setting&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;allow_author_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_committer_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_overrides_to_approver_list_per_merge_request&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;retain_approvals_on_push&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;selective_code_owner_removals&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_password_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_reauthentication_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  }
}
</code></pre>
<h3>Update group MR approval settings</h3>
<p>Update the merge request approval settings of a group.</p>
<pre><code class="language-plaintext">PUT /groups/:id/merge_request_approval_setting
</code></pre>
<p>Parameters:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td><code>allow_author_approval</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent authors from self approving merge requests; <code>true</code> means authors can self approve.</td>
</tr>
<tr>
<td><code>allow_committer_approval</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent committers from self approving merge requests.</td>
</tr>
<tr>
<td><code>allow_overrides_to_approver_list_per_merge_request</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent overriding approvers per merge request.</td>
</tr>
<tr>
<td><code>retain_approvals_on_push</code></td>
<td>boolean</td>
<td>No</td>
<td>Retain approval count on a new push.</td>
</tr>
<tr>
<td><code>require_reauthentication_to_approve</code></td>
<td>boolean</td>
<td>No</td>
<td>Require approver to authenticate before adding the approval. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/431346">Introduced</a> in GitLab 17.1.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request PUT \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/:id/merge_request_approval_setting?allow_author_approval=false&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;allow_author_approval&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_committer_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_overrides_to_approver_list_per_merge_request&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;retain_approvals_on_push&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;selective_code_owner_removals&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_password_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_reauthentication_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  }
}
</code></pre>
<h2>Project MR approval settings</h2>
<p>Prerequisites:</p>
<ul>
<li>You must have the Maintainer role in the project.</li>
</ul>
<h3>Get project MR approval settings</h3>
<p>Get the merge request approval settings of a project.</p>
<pre><code class="language-plaintext">GET /projects/:id/merge_request_approval_setting
</code></pre>
<p>Parameters:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path of the project</a>.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/projects/:id/merge_request_approval_setting&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;allow_author_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_committer_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_overrides_to_approver_list_per_merge_request&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;retain_approvals_on_push&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: true,
    &quot;inherited_from&quot;: &quot;group&quot;
  },
  &quot;selective_code_owner_removals&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_password_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_reauthentication_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  }
}
</code></pre>
<h3>Update project MR approval settings</h3>
<p>Update the merge request approval settings of a project.</p>
<pre><code class="language-plaintext">PUT /projects/:id/merge_request_approval_setting
</code></pre>
<p>Parameters:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td><code>allow_author_approval</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent authors from self approving merge requests; <code>true</code> means authors can self approve.</td>
</tr>
<tr>
<td><code>allow_committer_approval</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent committers from self approving merge requests.</td>
</tr>
<tr>
<td><code>allow_overrides_to_approver_list_per_merge_request</code></td>
<td>boolean</td>
<td>No</td>
<td>Allow or prevent overriding approvers per merge request.</td>
</tr>
<tr>
<td><code>retain_approvals_on_push</code></td>
<td>boolean</td>
<td>No</td>
<td>Retain approval count on a new push.</td>
</tr>
<tr>
<td><code>selective_code_owner_removals</code></td>
<td>boolean</td>
<td>No</td>
<td>Reset approvals from Code Owners if their files changed. You must disable the <code>retain_approvals_on_push</code> field to use this field.</td>
</tr>
<tr>
<td><code>require_reauthentication_to_approve</code></td>
<td>boolean</td>
<td>No</td>
<td>Require approver to authenticate before adding the approval. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/431346">Introduced</a> in GitLab 17.1.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request PUT \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/projects/:id/merge_request_approval_setting?allow_author_approval=false&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;allow_author_approval&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_committer_approval&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;allow_overrides_to_approver_list_per_merge_request&quot;: {
    &quot;value&quot;: true,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;retain_approvals_on_push&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;selective_code_owner_removals&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_password_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  },
  &quot;require_reauthentication_to_approve&quot;: {
    &quot;value&quot;: false,
    &quot;locked&quot;: false,
    &quot;inherited_from&quot;: null
  }
}
</code></pre></code></pre>
</body>
</html>
