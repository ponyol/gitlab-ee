<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># GitLab.com endpoints</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Software Supply Chain Security
group: Authentication
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: SAML API</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/227841">Introduced</a> in GitLab 15.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>Use this API to interact with SAML features.</p>
<h2>GitLab.com endpoints</h2>
<h3>Get SAML identities for a group</h3>
<pre><code class="language-plaintext">GET /groups/:id/saml/identities
</code></pre>
<p>Fetch SAML identities for a group.</p>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">The ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>200</code></a> and the following
response attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>extern_uid</code></td>
<td>string</td>
<td>External UID for the user</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>string</td>
<td>ID for the user</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --location --request GET \
  --header &quot;PRIVATE-TOKEN: &lt;PRIVATE-TOKEN&gt;&quot; \
  --url &quot;https://gitlab.com/api/v4/groups/33/saml/identities&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">[
    {
        &quot;extern_uid&quot;: &quot;yrnZW46BrtBFqM7xDzE7dddd&quot;,
        &quot;user_id&quot;: 48
    }
]
</code></pre>
<h3>Get a single SAML identity</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/123591">Introduced</a> in GitLab 16.1.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<pre><code class="language-plaintext">GET /groups/:id/saml/:uid
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>yes</td>
<td>The ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>string</td>
<td>yes</td>
<td>External UID of the user.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --location --request GET \
  --header &quot;PRIVATE-TOKEN: &lt;PRIVATE TOKEN&gt;&quot; \
  --url &quot;https://gitlab.com/api/v4/groups/33/saml/yrnZW46BrtBFqM7xDzE7dddd&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
    &quot;extern_uid&quot;: &quot;yrnZW46BrtBFqM7xDzE7dddd&quot;,
    &quot;user_id&quot;: 48
}
</code></pre>
<h3>Update <code>extern_uid</code> field for a SAML identity</h3>
<p>Update <code>extern_uid</code> field for a SAML identity:</p>
<table>
<thead>
<tr>
<th>SAML IdP attribute</th>
<th>GitLab field</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id/externalId</code></td>
<td><code>extern_uid</code></td>
</tr>
</tbody>
</table>
<pre><code class="language-plaintext">PATCH /groups/:id/saml/:uid
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>yes</td>
<td>The ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>string</td>
<td>yes</td>
<td>External UID of the user.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request PATCH \
  --location \
  --header &quot;PRIVATE-TOKEN: &lt;PRIVATE TOKEN&gt;&quot; \
  --url &quot;https://gitlab.com/api/v4/groups/33/saml/yrnZW46BrtBFqM7xDzE7dddd&quot; \
  --form &quot;extern_uid=be20d8dcc028677c931e04f387&quot;
</code></pre>
<h3>Delete a single SAML identity</h3>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/423592">Introduced</a> in GitLab 16.5.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<pre><code class="language-plaintext">DELETE /groups/:id/saml/:uid
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>yes</td>
<td>The ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>string</td>
<td>yes</td>
<td>External UID of the user.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.com/api/v4/groups/33/saml/be20d8dcc028677c931e04f387&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
    &quot;message&quot; : &quot;204 No Content&quot;
}
</code></pre>
<h2>GitLab Self-Managed endpoints</h2>
<h3>Get a single SAML identity</h3>
<p>Use the Users API to <a href="users.md#as-an-administrator">get a single SAML identity</a>.</p>
<h3>Update <code>extern_uid</code> field for a SAML identity</h3>
<p>Use the Users API to <a href="users.md#modify-a-user">update the <code>extern_uid</code> field of a user</a>.</p>
<h3>Delete a single SAML identity</h3>
<p>Use the Users API to <a href="users.md#delete-authentication-identity-from-a-user">delete a single identity of a user</a>.</p>
<h2>SAML group links</h2>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/290367">Introduced</a> in GitLab 15.3.0.</li>
<li><code>access_level</code> type <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95607">changed</a> from <code>string</code> to <code>integer</code> in GitLab 15.3.3.</li>
<li><code>member_role_id</code> type <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/417201">Introduced</a> in GitLab 16.7 <a href="../administration/feature_flags/_index.html">with a flag</a> named <code>custom_roles_for_saml_group_links</code>. Disabled by default.</li>
<li><code>member_role_id</code> type <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/417201">Generally available</a> in GitLab 16.8. Feature flag <code>custom_roles_for_saml_group_links</code> removed.</li>
<li><code>provider</code> parameter <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/548725">Introduced</a> in GitLab 18.2.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>List, get, add, and delete <a href="../user/group/saml_sso/group_sync.md#configure-saml-group-links">SAML group links</a> by using
the REST API.</p>
<h3>List SAML group links</h3>
<p>List SAML group links for a group.</p>
<pre><code class="language-plaintext">GET /groups/:id/saml_group_links
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>200</code></a> and the following response attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>[].name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>[].access_level</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">The default access level for members of the SAML group. Possible values: <code>0</code> (No access), <code>5</code> (Minimal access), <code>10</code> (Guest), <code>15</code> (Planner), <code>20</code> (Reporter), <code>30</code> (Developer), <code>40</code> (Maintainer), or <code>50</code> (Owner).</td>
</tr>
<tr>
<td style="text-align: left;"><code>[].member_role_id</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><a href="member_roles.html">Member Role ID (<code>member_role_id</code>)</a> for members of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>[].provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> that must match for this group link to be applied.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">[
  {
    &quot;name&quot;: &quot;saml-group-1&quot;,
    &quot;access_level&quot;: 10,
    &quot;member_role_id&quot;: 12,
    &quot;provider&quot;: null
  },
  {
    &quot;name&quot;: &quot;saml-group-2&quot;,
    &quot;access_level&quot;: 40,
    &quot;member_role_id&quot;: 99,
    &quot;provider&quot;: &quot;saml_provider_1&quot;
  }
]
</code></pre>
<h3>Get a SAML group link</h3>
<p>Get a SAML group link for a group.</p>
<pre><code class="language-plaintext">GET /groups/:id/saml_group_links/:saml_group_name
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>saml_group_name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> to disambiguate when multiple links exist with the same name. Required when multiple links exist with the same <code>saml_group_name</code>.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>200</code></a> and the following response attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>access_level</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">The default access level for members of the SAML group. Possible values: <code>0</code> (No access), <code>5</code> (Minimal access), <code>10</code> (Guest), <code>15</code> (Planner), <code>20</code> (Reporter), <code>30</code> (Developer), <code>40</code> (Maintainer), or <code>50</code> (Owner).</td>
</tr>
<tr>
<td style="text-align: left;"><code>member_role_id</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><a href="member_roles.html">Member Role ID (<code>member_role_id</code>)</a> for members of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> that must match for this group link to be applied.</td>
</tr>
</tbody>
</table>
<p>If multiple SAML group links exist with the same name but different providers, and no <code>provider</code> parameter is specified, returns <a href="rest/troubleshooting.md#status-codes"><code>422</code></a> with an error message indicating that the <code>provider</code> parameter is required to disambiguate.</p>
<p>Example request:</p>
<pre><code class="language-shell">curl \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links/saml-group-1&quot;
</code></pre>
<p>Example request with provider parameter:</p>
<pre><code class="language-shell">curl \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links/saml-group-1?provider=saml_provider_1&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
&quot;name&quot;: &quot;saml-group-1&quot;,
&quot;access_level&quot;: 10,
&quot;member_role_id&quot;: 12,
&quot;provider&quot;: &quot;saml_provider_1&quot;
}
</code></pre>
<h3>Add a SAML group link</h3>
<p>Add a SAML group link for a group.</p>
<pre><code class="language-plaintext">POST /groups/:id/saml_group_links
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>saml_group_name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>access_level</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">The default access level for members of the SAML group. Possible values: <code>0</code> (No access), <code>5</code> (Minimal access), <code>10</code> (Guest), <code>15</code> (Planner), <code>20</code> (Reporter), <code>30</code> (Developer), <code>40</code> (Maintainer), or <code>50</code> (Owner).</td>
</tr>
<tr>
<td style="text-align: left;"><code>member_role_id</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;"><a href="member_roles.html">Member Role ID (<code>member_role_id</code>)</a> for members of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> that must match for this group link to be applied.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>201</code></a> and the following response attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>access_level</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">The default access level for members of the SAML group. Possible values: <code>0</code> (No access), <code>5</code> (Minimal access), <code>10</code> (Guest), <code>15</code> (Planner), <code>20</code> (Reporter), <code>30</code> (Developer), <code>40</code> (Maintainer), or <code>50</code> (Owner).</td>
</tr>
<tr>
<td style="text-align: left;"><code>member_role_id</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"><a href="member_roles.html">Member Role ID (<code>member_role_id</code>)</a> for members of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> that must match for this group link to be applied.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request POST --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; --header &quot;Content-Type: application/json&quot; --data '{ &quot;saml_group_name&quot;: &quot;&lt;your_saml_group_name`&gt;&quot;, &quot;access_level&quot;: &lt;chosen_access_level&gt;, &quot;member_role_id&quot;: &lt;chosen_member_role_id&gt;, &quot;provider&quot;: &quot;&lt;your_provider&gt;&quot; }' --url  &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
&quot;name&quot;: &quot;saml-group-1&quot;,
&quot;access_level&quot;: 10,
&quot;member_role_id&quot;: 12,
&quot;provider&quot;: &quot;saml_provider_1&quot;
}
</code></pre>
<h3>Delete a SAML group link</h3>
<p>Delete a SAML group link for a group.</p>
<pre><code class="language-plaintext">DELETE /groups/:id/saml_group_links/:saml_group_name
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">integer or string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>saml_group_name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">Name of the SAML group.</td>
</tr>
<tr>
<td style="text-align: left;"><code>provider</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">Unique <a href="../integration/saml.md#configure-saml-support-in-gitlab">provider name</a> to disambiguate when multiple links exist with the same name. Required when multiple links exist with the same <code>saml_group_name</code>.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links/saml-group-1&quot;
</code></pre>
<p>Example request with provider parameter:</p>
<pre><code class="language-shell">curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/1/saml_group_links/saml-group-1?provider=saml_provider_1&quot;
</code></pre>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>204</code></a> status code without any response body.</p>
<p>If multiple SAML group links exist with the same name but different providers, and no <code>provider</code> parameter is specified, returns <a href="rest/troubleshooting.md#status-codes"><code>422</code></a> with an error message indicating that the <code>provider</code> parameter is required to disambiguate.</p></code></pre>
</body>
</html>
