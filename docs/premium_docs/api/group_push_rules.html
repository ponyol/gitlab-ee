<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Get the push rules of a group</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Create
group: Source Code
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: Use push rules to control the content and format of Git commits your repository accepts. Set standards for commit messages, and block secrets or credentials from being added accidentally.
title: Group push rules API</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>Use this API to manage <a href="../user/group/access_and_permissions.md#group-push-rules">group push rules</a>
for newly created projects in a group.</p>
<p>Prerequisites:</p>
<ul>
<li>You must have the Owner role for the group or be an administrator for the instance.</li>
</ul>
<h2>Get the push rules of a group</h2>
<p>Gets the push rules of a group.</p>
<pre><code class="language-plaintext">GET /groups/:id/push_rule
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>ID of the group or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>200 OK</code></a> and the following
response attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>author_email_regex</code></td>
<td>string</td>
<td>Allow only commit author emails that match this regular expression.</td>
</tr>
<tr>
<td><code>branch_name_regex</code></td>
<td>string</td>
<td>Allow only branch names that match this regular expression.</td>
</tr>
<tr>
<td><code>commit_committer_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the committer email is one of their own verified emails.</td>
</tr>
<tr>
<td><code>commit_committer_name_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the commit author name is consistent with their GitLab account name.</td>
</tr>
<tr>
<td><code>commit_message_negative_regex</code></td>
<td>string</td>
<td>Reject commit messages matching this regular expression.</td>
</tr>
<tr>
<td><code>commit_message_regex</code></td>
<td>string</td>
<td>Allow only commit messages that match this regular expression.</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>string</td>
<td>Date and time when the push rule was created.</td>
</tr>
<tr>
<td><code>deny_delete_tag</code></td>
<td>boolean</td>
<td>If <code>true</code>, denies deleting a tag.</td>
</tr>
<tr>
<td><code>file_name_regex</code></td>
<td>string</td>
<td>Reject filenames matching this regular expression.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>The ID of the push rule.</td>
</tr>
<tr>
<td><code>max_file_size</code></td>
<td>integer</td>
<td>Maximum file size (MB) allowed.</td>
</tr>
<tr>
<td><code>member_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows only GitLab users to author commits.</td>
</tr>
<tr>
<td><code>prevent_secrets</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects files that are likely to contain secrets.</td>
</tr>
<tr>
<td><code>reject_non_dco_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not DCO certified.</td>
</tr>
<tr>
<td><code>reject_unsigned_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not signed.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/2/push_rule&quot;
</code></pre>
<p>Example response when push rules are configured with all settings disabled:</p>
<pre><code class="language-json">{
  &quot;id&quot;: 1,
  &quot;created_at&quot;: &quot;2020-08-17T19:09:19.580Z&quot;,
  &quot;commit_message_regex&quot;: &quot;[a-zA-Z]&quot;,
  &quot;commit_message_negative_regex&quot;: &quot;[x+]&quot;,
  &quot;branch_name_regex&quot;: &quot;[a-z]&quot;,
  &quot;author_email_regex&quot;: &quot;^[A-Za-z0-9.]+@gitlab.com$&quot;,
  &quot;file_name_regex&quot;: &quot;(exe)$&quot;,
  &quot;deny_delete_tag&quot;: false,
  &quot;member_check&quot;: false,
  &quot;prevent_secrets&quot;: false,
  &quot;max_file_size&quot;: 0,
  &quot;commit_committer_check&quot;: null,
  &quot;commit_committer_name_check&quot;: false,
  &quot;reject_unsigned_commits&quot;: null,
  &quot;reject_non_dco_commits&quot;: null
}
</code></pre>
<p>If push rules were never configured for the group, returns <a href="rest/troubleshooting.md#status-codes"><code>404 Not Found</code></a>:</p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;404 Not Found&quot;
}
</code></pre>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>This differs from the <a href="project_push_rules.md#get-project-push-rules">project push rules API</a>,
which returns HTTP <code>200 OK</code> with the literal string <code>"null"</code> when no push rules are configured.</p>
<p>{{&lt; /alert &gt;}}</p>
<p>When disabled, some boolean attributes return <code>null</code> instead of <code>false</code>. For example:</p>
<ul>
<li><code>commit_committer_check</code></li>
<li><code>reject_unsigned_commits</code></li>
<li><code>reject_non_dco_commits</code></li>
</ul>
<h2>Add push rules to a group</h2>
<p>Adds push rules to the group. Use only if you haven't defined any push rules so far.</p>
<pre><code class="language-plaintext">POST /groups/:id/push_rule
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td><code>author_email_regex</code></td>
<td>string</td>
<td>No</td>
<td>Allow only commit author emails that match the regular expression provided in this attribute, for example, <code>@my-company.com$</code>.</td>
</tr>
<tr>
<td><code>branch_name_regex</code></td>
<td>string</td>
<td>No</td>
<td>Allow only branch names that match the regular expression provided in this attribute, for example, <code>(feature\|hotfix)\/.*</code>.</td>
</tr>
<tr>
<td><code>commit_committer_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows commits from users only if the committer email is one of their own verified emails.</td>
</tr>
<tr>
<td><code>commit_committer_name_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows commits from users only if the commit author name is consistent with their GitLab account name.</td>
</tr>
<tr>
<td><code>commit_message_negative_regex</code></td>
<td>string</td>
<td>No</td>
<td>Reject commit messages matching the regular expression provided in this attribute, for example, <code>ssh\:\/\/</code>.</td>
</tr>
<tr>
<td><code>commit_message_regex</code></td>
<td>string</td>
<td>No</td>
<td>If <code>true</code>, allows only commit messages that match the regular expression provided in this attribute, for example, <code>Fixed \d+\..*</code>.</td>
</tr>
<tr>
<td><code>deny_delete_tag</code></td>
<td>boolean</td>
<td>No</td>
<td>Deny deleting a tag.</td>
</tr>
<tr>
<td><code>file_name_regex</code></td>
<td>string</td>
<td>No</td>
<td>Reject filenames matching the regular expression provided in this attribute, for example, <code>(jar\|exe)$</code>.</td>
</tr>
<tr>
<td><code>max_file_size</code></td>
<td>integer</td>
<td>No</td>
<td>Maximum file size (MB) allowed.</td>
</tr>
<tr>
<td><code>member_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows only GitLab users to author commits.</td>
</tr>
<tr>
<td><code>prevent_secrets</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects files that are likely to <a href="https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/gitlab/checks/files_denylist.yml">contain secrets</a>.</td>
</tr>
<tr>
<td><code>reject_non_dco_commits</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects a commit when it's not DCO certified.</td>
</tr>
<tr>
<td><code>reject_unsigned_commits</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects a commit when it's not signed.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>201 Created</code></a> and the following
response attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>author_email_regex</code></td>
<td>string</td>
<td>Allow only commit author emails that match this regular expression.</td>
</tr>
<tr>
<td><code>branch_name_regex</code></td>
<td>string</td>
<td>Allow only branch names that match this regular expression.</td>
</tr>
<tr>
<td><code>commit_committer_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the committer email is one of their own verified emails.</td>
</tr>
<tr>
<td><code>commit_committer_name_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the commit author name is consistent with their GitLab account name.</td>
</tr>
<tr>
<td><code>commit_message_negative_regex</code></td>
<td>string</td>
<td>Reject commit messages matching this regular expression.</td>
</tr>
<tr>
<td><code>commit_message_regex</code></td>
<td>string</td>
<td>If <code>true</code>, allows only commit messages that match this regular expression.</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>string</td>
<td>Date and time when the push rule was created.</td>
</tr>
<tr>
<td><code>deny_delete_tag</code></td>
<td>boolean</td>
<td>If <code>true</code>, denies deleting a tag.</td>
</tr>
<tr>
<td><code>file_name_regex</code></td>
<td>string</td>
<td>Reject filenames matching this regular expression.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>The ID of the push rule.</td>
</tr>
<tr>
<td><code>max_file_size</code></td>
<td>integer</td>
<td>Maximum file size (MB) allowed.</td>
</tr>
<tr>
<td><code>member_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows only GitLab users to author commits.</td>
</tr>
<tr>
<td><code>prevent_secrets</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects files that are likely to contain secrets.</td>
</tr>
<tr>
<td><code>reject_non_dco_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not DCO certified.</td>
</tr>
<tr>
<td><code>reject_unsigned_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not signed.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request POST \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/19/push_rule?prevent_secrets=true&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;id&quot;: 1,
  &quot;created_at&quot;: &quot;2020-08-31T15:53:00.073Z&quot;,
  &quot;commit_committer_check&quot;: false,
  &quot;commit_committer_name_check&quot;: false,
  &quot;reject_unsigned_commits&quot;: false,
  &quot;reject_non_dco_commits&quot;: false,
  &quot;commit_message_regex&quot;: &quot;[a-zA-Z]&quot;,
  &quot;commit_message_negative_regex&quot;: &quot;[x+]&quot;,
  &quot;branch_name_regex&quot;: null,
  &quot;deny_delete_tag&quot;: false,
  &quot;member_check&quot;: false,
  &quot;prevent_secrets&quot;: true,
  &quot;author_email_regex&quot;: &quot;^[A-Za-z0-9.]+@gitlab.com$&quot;,
  &quot;file_name_regex&quot;: null,
  &quot;max_file_size&quot;: 100
}
</code></pre>
<h2>Edit the push rules of a group</h2>
<p>Edits the push rules for the group.</p>
<pre><code class="language-plaintext">PUT /groups/:id/push_rule
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
<tr>
<td><code>author_email_regex</code></td>
<td>string</td>
<td>No</td>
<td>Allow only commit author emails that match the regular expression provided in this attribute, for example, <code>@my-company.com$</code>.</td>
</tr>
<tr>
<td><code>branch_name_regex</code></td>
<td>string</td>
<td>No</td>
<td>Allow only branch names that match the regular expression provided in this attribute, for example, <code>(feature\|hotfix)\/.*</code>.</td>
</tr>
<tr>
<td><code>commit_committer_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows commits from users only if the committer email is one of their own verified emails.</td>
</tr>
<tr>
<td><code>commit_committer_name_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows commits from users only if the commit author name is consistent with their GitLab account name.</td>
</tr>
<tr>
<td><code>commit_message_negative_regex</code></td>
<td>string</td>
<td>No</td>
<td>Reject commit messages matching the regular expression provided in this attribute, for example, <code>ssh\:\/\/</code>.</td>
</tr>
<tr>
<td><code>commit_message_regex</code></td>
<td>string</td>
<td>No</td>
<td>If <code>true</code>, allows only commit messages that match the regular expression provided in this attribute, for example, <code>Fixed \d+\..*</code>.</td>
</tr>
<tr>
<td><code>deny_delete_tag</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, denies deleting a tag.</td>
</tr>
<tr>
<td><code>file_name_regex</code></td>
<td>string</td>
<td>No</td>
<td>Reject filenames matching the regular expression provided in this attribute, for example, <code>(jar\|exe)$</code>.</td>
</tr>
<tr>
<td><code>max_file_size</code></td>
<td>integer</td>
<td>No</td>
<td>Maximum file size (MB) allowed.</td>
</tr>
<tr>
<td><code>member_check</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, allows only GitLab users to author commits.</td>
</tr>
<tr>
<td><code>prevent_secrets</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects files that are likely to <a href="https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/gitlab/checks/files_denylist.yml">contain secrets</a>.</td>
</tr>
<tr>
<td><code>reject_non_dco_commits</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects a commit when it's not DCO certified.</td>
</tr>
<tr>
<td><code>reject_unsigned_commits</code></td>
<td>boolean</td>
<td>No</td>
<td>If <code>true</code>, rejects a commit when it's not signed.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>200 OK</code></a> and the following
response attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>author_email_regex</code></td>
<td>string</td>
<td>Allow only commit author emails that match this regular expression.</td>
</tr>
<tr>
<td><code>branch_name_regex</code></td>
<td>string</td>
<td>Allow only branch names that match this regular expression.</td>
</tr>
<tr>
<td><code>commit_committer_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the committer email is one of their own verified emails.</td>
</tr>
<tr>
<td><code>commit_committer_name_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows commits from users only if the commit author name is consistent with their GitLab account name.</td>
</tr>
<tr>
<td><code>commit_message_negative_regex</code></td>
<td>string</td>
<td>Reject commit messages matching this regular expression.</td>
</tr>
<tr>
<td><code>commit_message_regex</code></td>
<td>string</td>
<td>If <code>true</code>, allows only commit messages that match this regular expression.</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>string</td>
<td>Date and time when the push rule was created.</td>
</tr>
<tr>
<td><code>deny_delete_tag</code></td>
<td>boolean</td>
<td>If <code>true</code>, denies deleting a tag.</td>
</tr>
<tr>
<td><code>file_name_regex</code></td>
<td>string</td>
<td>Reject filenames matching this regular expression.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>The ID of the push rule.</td>
</tr>
<tr>
<td><code>max_file_size</code></td>
<td>integer</td>
<td>Maximum file size (MB) allowed.</td>
</tr>
<tr>
<td><code>member_check</code></td>
<td>boolean</td>
<td>If <code>true</code>, allows only GitLab users to author commits.</td>
</tr>
<tr>
<td><code>prevent_secrets</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects files that are likely to contain secrets.</td>
</tr>
<tr>
<td><code>reject_non_dco_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not DCO certified.</td>
</tr>
<tr>
<td><code>reject_unsigned_commits</code></td>
<td>boolean</td>
<td>If <code>true</code>, rejects a commit when it's not signed.</td>
</tr>
</tbody>
</table>
<p>Example request:</p>
<pre><code class="language-shell">curl --request PUT \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/19/push_rule?member_check=true&quot;
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;id&quot;: 19,
  &quot;created_at&quot;: &quot;2020-08-31T15:53:00.073Z&quot;,
  &quot;commit_committer_check&quot;: false,
  &quot;commit_committer_name_check&quot;: false,
  &quot;reject_unsigned_commits&quot;: false,
  &quot;reject_non_dco_commits&quot;: false,
  &quot;commit_message_regex&quot;: &quot;[a-zA-Z]&quot;,
  &quot;commit_message_negative_regex&quot;: &quot;[x+]&quot;,
  &quot;branch_name_regex&quot;: null,
  &quot;deny_delete_tag&quot;: false,
  &quot;member_check&quot;: true,
  &quot;prevent_secrets&quot;: false,
  &quot;author_email_regex&quot;: &quot;^[A-Za-z0-9.]+@staging.gitlab.com$&quot;,
  &quot;file_name_regex&quot;: null,
  &quot;max_file_size&quot;: 100
}
</code></pre>
<h2>Delete the push rules of a group</h2>
<p>Deletes all the push rules of a group.</p>
<pre><code class="language-plaintext">DELETE /groups/:id/push_rule
</code></pre>
<p>Supported attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer or string</td>
<td>Yes</td>
<td>The ID or <a href="rest/_index.md#namespaced-paths">URL-encoded path</a> of the group.</td>
</tr>
</tbody>
</table>
<p>If successful, returns <a href="rest/troubleshooting.md#status-codes"><code>204 No Content</code></a> with no response body.</p>
<p>Example request:</p>
<pre><code class="language-shell">curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/groups/19/push_rule&quot;
</code></pre></code></pre>
</body>
</html>
