<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># API status</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Plan
group: Product Planning
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Migrate epic APIs to work items</p>
<hr />
<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li>
<li>Status: Beta</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>{{&lt; history &gt;}}</p>
<ul>
<li><a href="https://gitlab.com/groups/gitlab-org/-/epics/9290">Introduced</a> in GitLab 17.2 <a href="../../administration/feature_flags/_index.html">with a flag</a> named <code>work_item_epics</code>. Disabled by default. <a href="../../user/group/epics/_index.md#epics-as-work-items">The new look for epics</a> must be enabled. Introduced in <a href="../../policy/development_stages_support.md#beta">beta</a>.</li>
<li>Listing epics using the <a href="reference/_index.html">GraphQL API</a> <a href="https://gitlab.com/groups/gitlab-org/-/epics/12852">introduced</a> in GitLab 17.4.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/470685">Enabled on GitLab.com</a> in GitLab 17.6.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468310">Enabled by default on GitLab Self-Managed and GitLab Dedicated</a> in GitLab 17.7.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/468310">Generally available</a> in GitLab 18.1. Feature flag <code>work_item_epics</code> removed.</li>
</ul>
<p>{{&lt; /history &gt;}}</p>
<p>GitLab 17.2 introduced <a href="../../user/group/epics/_index.md#epics-as-work-items">epics as work items</a>.</p>
<p>To ensure that your integrations continue working:</p>
<ul>
<li>If you use the <a href="reference/_index.md#epic">Epic GraphQL API</a>, migrate to the Work Item API before the Epic GraphQL API is removed.</li>
<li>If you use the <a href="../epics.html">REST API</a>, you can continue using it, but you should migrate to future-proof your integrations.</li>
<li>For new features (such as assignees, health status, linked items with other types), you must
  use the <code>WorkItem</code> GraphQL API.</li>
</ul>
<h2>API status</h2>
<h3>REST API (<code>/api/v4/</code>)</h3>
<p>The REST API for epics:</p>
<ul>
<li>Is still supported but deprecated.</li>
<li>Continues to work with existing endpoints.</li>
<li>Does not receive new features.</li>
<li>Has no set removal date, but it will happen in a major release.</li>
</ul>
<h3>GraphQL API</h3>
<p>The <code>WorkItem</code> GraphQL API:</p>
<ul>
<li>Is marked as experimental.</li>
<li>Is used in production environments.</li>
<li>Will be <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/500620">generally available</a> before GitLab 19.0</li>
<li>Is planned to exit <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/500620">experimental status</a> before GitLab 19.0</li>
</ul>
<p>The <a href="reference/_index.md#epic">Epic GraphQL API</a> is planned for removal in GitLab 19.0.</p>
<h2>Migrate to the Work Item API</h2>
<p>The Work Item API uses widgets to represent epic attributes like health status, assignees, and
hierarchy.</p>
<h3>Set up the GraphiQL explorer</h3>
<p>To run these examples, you can use GraphiQL, an interactive GraphQL API explorer where you can play
around with existing queries:</p>
<ol>
<li>Open the GraphiQL explorer tool:</li>
<li>For GitLab.com, go to <a href="https://gitlab.com/-/graphql-explorer">https://gitlab.com/-/graphql-explorer</a>.</li>
<li>For GitLab Self-Managed, go to <code>https://gitlab.example.com/-/graphql-explorer</code>.
     Change <code>gitlab.example.com</code> to your instance URL.</li>
<li>Paste a query listed in an example into the left window of your GraphiQL explorer tool.</li>
<li>Select <strong>Play</strong>.</li>
</ol>
<h3>Query epics</h3>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>Epic IDs are different from work item IDs, but the IID (ID incremented for each group) remains the same.
For example, an epic at <code>/gitlab-org/-/epics/123</code> has the same IID <code>123</code> as a work item.</p>
<p>{{&lt; /alert &gt;}}</p>
<p><strong>Before (Epic API)</strong>:</p>
<pre><code class="language-graphql">query Epics {
  group(fullPath: &quot;gitlab-org&quot;) {
    epics {
      nodes {
        id
        iid
        title
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;group&quot;: {
      &quot;epics&quot;: {
        &quot;nodes&quot;: [
          {
            &quot;id&quot;: &quot;gid://gitlab/Epic/2335843&quot;,
            &quot;iid&quot;: &quot;15596&quot;,
            &quot;title&quot;: &quot;First epic&quot;
          },
          {
            &quot;id&quot;: &quot;gid://gitlab/Epic/2335762&quot;,
            &quot;iid&quot;: &quot;15595&quot;,
            &quot;title&quot;: &quot;Second epic&quot;
          }
        ]
      }
    }
  }
}
</code></pre>
<p><strong>After (Work Item API)</strong>:</p>
<pre><code class="language-graphql">query EpicsAsWorkItem {
  group(fullPath: &quot;gitlab-org&quot;) {
    workItems(types: [EPIC]) {
      nodes {
        id
        iid
        title
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;group&quot;: {
      &quot;workItems&quot;: {
        &quot;nodes&quot;: [
          {
            &quot;id&quot;: &quot;gid://gitlab/WorkItem/154888575&quot;,
            &quot;iid&quot;: &quot;15596&quot;,
            &quot;title&quot;: &quot;First epic&quot;
          },
          {
            &quot;id&quot;: &quot;gid://gitlab/WorkItem/154877868&quot;,
            &quot;iid&quot;: &quot;15595&quot;,
            &quot;title&quot;: &quot;Second epic&quot;
          }
        ]
      }
    }
  }
}
</code></pre>
<h3>Create an epic</h3>
<p><strong>Before (Epic API)</strong>:</p>
<pre><code class="language-graphql">mutation CreateEpic {
  createEpic(input: { title: &quot;New epic&quot;, groupPath: &quot;gitlab-org&quot; }) {
    epic {
      id
      title
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;createEpic&quot;: {
      &quot;epic&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/Epic/806&quot;,
        &quot;title&quot;: &quot;New epic&quot;
      }
    }
  }
}
</code></pre>
<p><strong>After (Work Item API)</strong>:</p>
<p>To create an epic:</p>
<ol>
<li>Get the work item type ID (<code>workItemTypeId</code>) for epics in your namespace.</li>
</ol>
<p>The <code>workItemTypeId</code> for an epic is not guaranteed to be the same between GitLab instances or namespaces.
   Work to ensure the same IDs for default work item types is tracked in <a href="https://gitlab.com/groups/gitlab-org/-/epics/15272">epic 15272</a>.</p>
<p><code>graphql
   query WorkItemTypes {
     namespace(fullPath: "gitlab-org") {
       workItemTypes(name: EPIC) {
         nodes {
           id
           name
         }
       }
     }
   }</code></p>
<p>Example response:</p>
<p><code>json
   {
     "data": {
       "namespace": {
         "workItemTypes": {
           "nodes": [
             {
               // the &lt;WorkItemTypeId&gt; will be different based on your namespace and instance
               "id": "gid://gitlab/WorkItems::Type/&lt;WorkItemTypeId&gt;",
               "name": "Epic"
             }
           ]
         }
       }
     }
   }</code></p>
<ol>
<li>Create the epic (work item with the type <code>epic</code>) by using that ID:</li>
</ol>
<p><code>graphql
   mutation CreateWorkItemEpic {
     workItemCreate(
       input: {
         title: "New work item epic"
         namespacePath: "gitlab-org"
         workItemTypeId: "gid://gitlab/WorkItems::Type/&lt;WorkItemTypeID&gt;"
       }
     ) {
       workItem {
         id
         title
       }
     }
   }</code></p>
<p>Example response:</p>
<p><code>json
   {
     "data": {
       "workItemCreate": {
         "workItem": {
           "id": "gid://gitlab/WorkItem/2243",
           "title": "New work item epic"
         }
       }
     }
   }</code></p>
<h3>Widgets</h3>
<p>The Work Item API introduces the concept of widgets.
Widgets represent specific features or attributes of a work item type.
They can range from attributes like health status or assignees to dates or hierarchy.
Each work item type has a unique set of available widgets.</p>
<h4>Query epics with widgets</h4>
<p>To retrieve detailed information about an epic, you can use various widgets in your GraphQL query.
The following example demonstrates how to query an epic's:</p>
<ul>
<li>Hierarchy (parent/child relationships)</li>
<li>Assignees</li>
<li>Emoji reactions</li>
<li>Color</li>
<li>Health status</li>
<li>Start and due dates</li>
</ul>
<p>For all available widgets, see <a href="reference/_index.md#workitemwidget">Work Item widget reference</a>.</p>
<p>To query epics with widgets:</p>
<p><strong>Before (Epic API)</strong>:</p>
<pre><code class="language-graphql">query DetailedEpicQuery {
  group(fullPath: &quot;gitlab-org&quot;) {
    epic(iid: 1000) {
      id
      iid
      title
      confidential
      author {
        id
        name
      }
      state
      color
      parent {
        id
        title
      }
      startDate
      dueDate
      ancestors {
        nodes {
          id
          title
        }
      }
      children {
        nodes {
          id
          title
        }
      }
      notes {
        nodes {
          body
          createdAt
          author {
            name
          }
        }
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;group&quot;: {
      &quot;epic&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/Epic/5579&quot;,
        &quot;iid&quot;: &quot;1000&quot;,
        &quot;title&quot;: &quot;Pajamas component: Pagination - Style&quot;,
        &quot;confidential&quot;: false,
        &quot;author&quot;: {
          &quot;id&quot;: &quot;gid://gitlab/User/3079878&quot;,
          &quot;name&quot;: &quot;Sidney Jones&quot;
        },
        &quot;state&quot;: &quot;opened&quot;,
        &quot;color&quot;: &quot;#1068bf&quot;,
        &quot;parent&quot;: {
          &quot;id&quot;: &quot;gid://gitlab/Epic/5576&quot;,
          &quot;title&quot;: &quot;Pajamas component: Pagination&quot;
        },
        &quot;startDate&quot;: null,
        &quot;dueDate&quot;: null,
        &quot;ancestors&quot;: {
          &quot;nodes&quot;: [
            {
              &quot;id&quot;: &quot;gid://gitlab/Epic/5523&quot;,
              &quot;title&quot;: &quot;Components of Pajamas Design System&quot;
            },
            {
              &quot;id&quot;: &quot;gid://gitlab/Epic/5576&quot;,
              &quot;title&quot;: &quot;Pajamas component: Pagination&quot;
            }
          ]
        },
        &quot;children&quot;: {
          &quot;nodes&quot;: []
        },
        &quot;notes&quot;: {
          &quot;nodes&quot;: [
            {
              &quot;body&quot;: &quot;changed the description&quot;,
              &quot;createdAt&quot;: &quot;2019-04-02T17:03:05Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Sidney Jones&quot;
              }
            },
            {
              &quot;body&quot;: &quot;mentioned in epic &amp;997&quot;,
              &quot;createdAt&quot;: &quot;2019-04-26T15:45:49Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Zhang Wei&quot;
              }
            },
            {
              &quot;body&quot;: &quot;added issue gitlab-ui#302&quot;,
              &quot;createdAt&quot;: &quot;2019-06-27T09:20:43Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Alex Garcia&quot;
              }
            },
            {
              &quot;body&quot;: &quot;added issue gitlab-ui#304&quot;,
              &quot;createdAt&quot;: &quot;2019-06-27T09:20:43Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Alex Garcia&quot;
              }
            },
            {
              &quot;body&quot;: &quot;added issue gitlab-ui#316&quot;,
              &quot;createdAt&quot;: &quot;2019-07-11T08:26:25Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Alex Garcia&quot;
              }
            },
            {
              &quot;body&quot;: &quot;mentioned in issue gitlab-design#528&quot;,
              &quot;createdAt&quot;: &quot;2019-08-05T14:12:51Z&quot;,
              &quot;author&quot;: {
                &quot;name&quot;: &quot;Jan Kowalski&quot;
              }
            }
          ]
        }
      }
    }
  }
}
</code></pre>
<p><strong>After (Work Item API)</strong>:</p>
<pre><code class="language-graphql">query DetailedEpicWorkItem {
  namespace(fullPath: &quot;gitlab-org&quot;) {
    workItem(iid: &quot;10&quot;) {
      id
      title
      confidential
      author {
        id
        name
      }
      state
      widgets {
        ... on WorkItemWidgetColor {
          color
          textColor
          __typename
        }
        ... on WorkItemWidgetHierarchy {
          children {
            nodes {
              id
              title
            }
          }
          parent {
            title
          }
          __typename
        }
        ... on WorkItemWidgetHealthStatus {
          type
          healthStatus
        }
        ... on WorkItemWidgetAssignees {
          assignees {
            nodes {
              name
            }
          }
          __typename
        }
        ... on WorkItemWidgetAwardEmoji {
          downvotes
          upvotes
          awardEmoji {
            nodes {
              unicode
            }
          }
          __typename
        }
        ... on WorkItemWidgetStartAndDueDate {
          dueDate
          isFixed
          startDate
          __typename
        }
        ... on WorkItemWidgetNotes {
          discussions {
            nodes {
              notes {
                edges {
                  node {
                    body
                    id
                    author {
                      name
                    }
                  }
                }
              }
            }
          }
        }
        __typename
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;namespace&quot;: {
      &quot;workItem&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/WorkItem/146171815&quot;,
        &quot;title&quot;: &quot;Pajamas component: Pagination - Style&quot;,
        &quot;confidential&quot;: false,
        &quot;author&quot;: {
          &quot;id&quot;: &quot;gid://gitlab/User/3079878&quot;,
          &quot;name&quot;: &quot;Sidney Jones&quot;
        },
        &quot;state&quot;: &quot;OPEN&quot;,
        &quot;widgets&quot;: [
          {
            &quot;assignees&quot;: {
              &quot;nodes&quot;: []
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetAssignees&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetDescription&quot;
          },
          {
            &quot;children&quot;: {
              &quot;nodes&quot;: [
                {
                  &quot;id&quot;: &quot;gid://gitlab/WorkItem/24697619&quot;,
                  &quot;title&quot;: &quot;Pagination does not conform with button styling and interaction styling&quot;
                },
                {
                  &quot;id&quot;: &quot;gid://gitlab/WorkItem/22693964&quot;,
                  &quot;title&quot;: &quot;Remove next and previous labels on mobile and smaller viewports for pagination component&quot;
                },
                {
                  &quot;id&quot;: &quot;gid://gitlab/WorkItem/22308883&quot;,
                  &quot;title&quot;: &quot;Update pagination border and background colors according to the specs&quot;
                },
                {
                  &quot;id&quot;: &quot;gid://gitlab/WorkItem/22294339&quot;,
                  &quot;title&quot;: &quot;Pagination \&quot;active\&quot; page contains gray border on right side&quot;
                }
              ]
            },
            &quot;parent&quot;: {
              &quot;title&quot;: &quot;Pajamas component: Pagination&quot;
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetHierarchy&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetLabels&quot;
          },
          {
            &quot;discussions&quot;: {
              &quot;nodes&quot;: [
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;changed the description&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/156548315&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Sidney Jones&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;added ~10161862 label&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/LabelNote/853dc8176d8eff789269d69c31c019ecd9918996&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Jan Kowalski&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;mentioned in epic &amp;997&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/164703873&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Zhang Wei&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;added issue gitlab-ui#302&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/185977331&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Alex Garcia&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;added issue gitlab-ui#304&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/185977335&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Alex Garcia&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;added issue gitlab-ui#316&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/190661279&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Alex Garcia&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;mentioned in issue gitlab-design#528&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/Note/200228415&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Jan Kowalski&quot;
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  &quot;notes&quot;: {
                    &quot;edges&quot;: [
                      {
                        &quot;node&quot;: {
                          &quot;body&quot;: &quot;added ~8547186 ~10161725 labels and removed ~10161862 label&quot;,
                          &quot;id&quot;: &quot;gid://gitlab/LabelNote/dfa79f5c4e6650850cc9e767f0dc0d3896bfd0f9&quot;,
                          &quot;author&quot;: {
                            &quot;name&quot;: &quot;Sidney Jones&quot;
                          }
                        }
                      }
                    ]
                  }
                }
              ]
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetNotes&quot;
          },
          {
            &quot;dueDate&quot;: null,
            &quot;isFixed&quot;: false,
            &quot;startDate&quot;: null,
            &quot;__typename&quot;: &quot;WorkItemWidgetStartAndDueDate&quot;
          },
          {
            &quot;type&quot;: &quot;HEALTH_STATUS&quot;,
            &quot;healthStatus&quot;: null,
            &quot;__typename&quot;: &quot;WorkItemWidgetHealthStatus&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetVerificationStatus&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetNotifications&quot;
          },
          {
            &quot;downvotes&quot;: 0,
            &quot;upvotes&quot;: 0,
            &quot;awardEmoji&quot;: {
              &quot;nodes&quot;: []
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetAwardEmoji&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetLinkedItems&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetCurrentUserTodos&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetRolledupDates&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetParticipants&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetWeight&quot;
          },
          {
            &quot;__typename&quot;: &quot;WorkItemWidgetTimeTracking&quot;
          },
          {
            &quot;color&quot;: &quot;#1068bf&quot;,
            &quot;textColor&quot;: &quot;#FFFFFF&quot;,
            &quot;__typename&quot;: &quot;WorkItemWidgetColor&quot;
          }
        ]
      }
    }
  }
}
</code></pre>
<h4>Create a work item epic with widgets</h4>
<p>Use widgets as part of the <code>input</code> parameter to create or update work items.</p>
<p>For example, run the query below to create an epic with:</p>
<ul>
<li>Title</li>
<li>Description</li>
<li>Color</li>
<li>Health status</li>
<li>Start date</li>
<li>Due date</li>
<li>Assignee</li>
</ul>
<pre><code class="language-graphql">mutation createEpicWithWidgets {
  workItemCreate(
    input: {
      title: &quot;New work item epic&quot;
      namespacePath: &quot;gitlab-org&quot;
      workItemTypeId: &quot;gid://gitlab/WorkItems::Type/&lt;WorkItemTypeID&gt;&quot;
      colorWidget: { color: &quot;#e24329&quot; }
      descriptionWidget: { description: &quot;My new plans ...&quot; }
      healthStatusWidget: { healthStatus: onTrack }
      startAndDueDateWidget: { startDate: &quot;2024-10-12&quot;, dueDate: &quot;2024-12-12&quot;, isFixed: true }
      assigneesWidget: { assigneeIds: &quot;gid://gitlab/User/&lt;UserID&gt;&quot; }
    }
  ) {
    workItem {
      id
      title
      description
      widgets {
        ... on WorkItemWidgetColor {
          color
          textColor
          __typename
        }
        ... on WorkItemWidgetAssignees {
          assignees {
            nodes {
              id
              name
            }
          }
          __typename
        }
        ... on WorkItemWidgetHealthStatus {
          healthStatus
          __typename
        }
        ... on WorkItemWidgetStartAndDueDate {
          startDate
          dueDate
          isFixed
          __typename
        }
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;workItemCreate&quot;: {
      &quot;workItem&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/WorkItem/2252&quot;,
        &quot;title&quot;: &quot;New epic&quot;,
        &quot;description&quot;: &quot;My new plans ...&quot;,
        &quot;widgets&quot;: [
          {
            &quot;assignees&quot;: {
              &quot;nodes&quot;: [
                {
                  &quot;id&quot;: &quot;gid://gitlab/User/46&quot;,
                  &quot;name&quot;: &quot;Jane Smith&quot;
                }
              ]
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetAssignees&quot;
          },
          {
            &quot;color&quot;: &quot;#e24329&quot;,
            &quot;textColor&quot;: &quot;#FFFFFF&quot;,
            &quot;__typename&quot;: &quot;WorkItemWidgetColor&quot;
          },
          {
            &quot;healthStatus&quot;: &quot;onTrack&quot;,
            &quot;__typename&quot;: &quot;WorkItemWidgetHealthStatus&quot;
          },
          {
            &quot;startDate&quot;: &quot;2024-10-12&quot;,
            &quot;dueDate&quot;: &quot;2024-12-12&quot;,
            &quot;isFixed&quot;: true,
            &quot;__typename&quot;: &quot;WorkItemWidgetStartAndDueDate&quot;
          }
        ]
      }
    }
  }
}
</code></pre>
<h4>Update a work item epic using widgets</h4>
<p>To edit a work item, re-use the widget inputs from
<a href="#create-a-work-item-epic-with-widgets">Create a work item epic with widgets</a>, but use the
<code>workItemUpdate</code> mutation instead.</p>
<p>Get the global ID of the work item (format <code>gid://gitlab/WorkItem/&lt;WorkItemID&gt;</code>) and use it as <code>id</code>
for the <code>input</code>:</p>
<pre><code class="language-graphql">mutation updateEpicWorkItemWithWidgets {
  workItemUpdate(
    input: {
      id: &quot;gid://gitlab/WorkItem/&lt;WorkItemID&gt;&quot;
      title: &quot;Updated work item epic title&quot;
      colorWidget: { color: &quot;#fc6d26&quot; }
      descriptionWidget: { description: &quot;My other new plans ...&quot; }
      healthStatusWidget: { healthStatus: onTrack }
      startAndDueDateWidget: { startDate: &quot;2025-10-12&quot;, dueDate: &quot;2025-12-12&quot;, isFixed: true }
      assigneesWidget: { assigneeIds: &quot;gid://gitlab/User/45&quot; }
    }
  ) {
    workItem {
      id
      title
      description
      widgets {
        ... on WorkItemWidgetColor {
          color
          textColor
          __typename
        }
        ... on WorkItemWidgetAssignees {
          assignees {
            nodes {
              id
              name
            }
          }
          __typename
        }
        ... on WorkItemWidgetHealthStatus {
          healthStatus
          __typename
        }
        ... on WorkItemWidgetStartAndDueDate {
          startDate
          dueDate
          isFixed
          __typename
        }
      }
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;workItemUpdate&quot;: {
      &quot;workItem&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/WorkItem/2252&quot;,
        &quot;title&quot;: &quot;Updated work item epic title&quot;,
        &quot;description&quot;: &quot;My other new plans ...&quot;,
        &quot;widgets&quot;: [
          {
            &quot;assignees&quot;: {
              &quot;nodes&quot;: [
                {
                  &quot;id&quot;: &quot;gid://gitlab/User/45&quot;,
                  &quot;name&quot;: &quot;Ardella Williamson&quot;
                }
              ]
            },
            &quot;__typename&quot;: &quot;WorkItemWidgetAssignees&quot;
          },
          {
            &quot;color&quot;: &quot;#fc6d26&quot;,
            &quot;textColor&quot;: &quot;#FFFFFF&quot;,
            &quot;__typename&quot;: &quot;WorkItemWidgetColor&quot;
          },
          {
            &quot;healthStatus&quot;: &quot;onTrack&quot;,
            &quot;__typename&quot;: &quot;WorkItemWidgetHealthStatus&quot;
          },
          {
            &quot;startDate&quot;: &quot;2025-10-12&quot;,
            &quot;dueDate&quot;: &quot;2025-12-12&quot;,
            &quot;isFixed&quot;: true,
            &quot;__typename&quot;: &quot;WorkItemWidgetStartAndDueDate&quot;
          }
        ]
      }
    }
  }
}
</code></pre>
<h3>Delete an epic work item</h3>
<p>To delete an epic work item, use the <code>workItemDelete</code> mutation:</p>
<pre><code class="language-graphql">mutation deleteEpicWorkItem {
  workItemDelete(input: { id: &quot;gid://gitlab/WorkItem/&lt;WorkItemID&gt;&quot; }) {
    clientMutationId
    errors
    namespace {
      id
    }
  }
}
</code></pre>
<p>Example response:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;workItemDelete&quot;: {
      &quot;clientMutationId&quot;: null,
      &quot;errors&quot;: [],
      &quot;namespace&quot;: {
        &quot;id&quot;: &quot;gid://gitlab/Group/24&quot;
      }
    }
  }
}
</code></pre></code></pre>
</body>
</html>
