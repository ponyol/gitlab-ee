<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># Git operations</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <pre><code><hr />
<p>stage: Tenant Scale
group: Geo
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: Using a Geo Site</p>
<hr />
<!-- Please update EE::GitLab::GeoGitAccess::GEO_SERVER_DOCS_URL if this file is moved) -->

<p>{{&lt; details &gt;}}</p>
<ul>
<li>Tier: Premium, Ultimate</li>
<li>Offering: GitLab Self-Managed</li>
</ul>
<p>{{&lt; /details &gt;}}</p>
<p>After you set up the <a href="../setup/_index.html">database replication and configure the Geo nodes</a>, use your closest GitLab site as you would do with the primary one.</p>
<h2>Git operations</h2>
<p>You can push directly to a <strong>secondary</strong> site (for both HTTP, SSH including
Git LFS), and the request is proxied to the primary site instead.</p>
<p>Example of the output you see when pushing to a <strong>secondary</strong> site:</p>
<pre><code class="language-shell">$ git push
remote:
remote: This request to a Geo secondary node will be forwarded to the
remote: Geo primary node:
remote:
remote:   ssh://git@primary.geo/user/repo.git
remote:
Everything up-to-date
</code></pre>
<p>{{&lt; alert type="note" &gt;}}</p>
<p>If you're using HTTPS instead of <a href="../../../user/ssh.html">SSH</a> to push to the secondary,
you can't store credentials in the URL like <code>user:password@URL</code>. Instead, you can use a
<a href="https://www.gnu.org/software/inetutils/manual/html_node/The-_002enetrc-file.html"><code>.netrc</code> file</a>
for Unix-like operating systems or <code>_netrc</code> for Windows. In that case, the credentials
are stored as a plain text. If you're looking for a more secure way to store credentials,
you can use <a href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage">Git Credential Storage</a>.</p>
<p>{{&lt; /alert &gt;}}</p>
<h2>Web user interface</h2>
<p>The web user interface on the <strong>secondary</strong> site is read/write. As a user, all actions permitted on the <strong>primary</strong> site can be performed on the <strong>secondary</strong> site without limitations.</p>
<p>Web interface access requests on the <strong>secondary</strong> sites are automatically and transparently proxied to the <strong>primary</strong> site.</p>
<h2>Fetch Go modules from Geo secondary sites</h2>
<p>Go modules can be pulled from secondary sites, with a number of limitations:</p>
<ul>
<li>Git configuration (using <code>insteadOf</code>) is needed to fetch data from the Geo secondary site.</li>
<li>For private projects, authentication details need to be specified in <code>~/.netrc</code>.</li>
</ul>
<p>For more information, see
<a href="../../../user/project/use_project_as_go_package.md#fetch-go-modules-from-geo-secondary-sites">Using a project as a Go package</a>.</p></code></pre>
</body>
</html>
