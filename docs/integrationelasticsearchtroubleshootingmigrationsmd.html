<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìÑ integration/elasticsearch/troubleshooting/migrations.md</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <pre><code><p><strong>1. –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ</strong><br />
–î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Elasticsearch –≤ GitLab, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∞–Ω–Ω—ã–º. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–±–æ–µ–≤ –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.</p>
<p><strong>2. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</strong><br />
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ —Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ Elasticsearch, –≤–∫–ª—é—á–∞—è <code>BadRequest</code>, <code>TimeoutError</code> –∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º.<br />
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Elasticsearch —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (<code>http://</code> –∏–ª–∏ <code>https://</code>).<br />
- –†–µ—à–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞ (–∂–µ–ª—Ç—ã–π —Å—Ç–∞—Ç—É—Å) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Ä–µ–ø–ª–∏–∫.<br />
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π Sidekiq –∏–∑-–∑–∞ Elasticsearch.<br />
- –†–∞–±–æ—Ç–∞ —Å –æ—à–∏–±–∫–∞–º–∏ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ <code>NoMethodError</code> –∏ <code>Couldn't load task status</code>.<br />
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º –∑–∞–¥–∞—á <code>ElasticIndexInitialBulkCronWorker</code> –∏ <code>ElasticIndexBulkCronWorker</code>, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π.  </p>
<p><strong>3. –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã</strong><br />
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—Ü–µ–Ω–∑–∏—è <strong>Premium –∏–ª–∏ Ultimate</strong>.<br />
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ GitLab Self-Managed –∏ GitLab Dedicated.<br />
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ <code>number_of_replicas</code> –≤ 0) –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è –∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è.<br />
- –î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ—à–∏–±–æ–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –≤–µ—Ä—Å–∏–∏ GitLab 16.3 –∏–ª–∏ –≤—ã—à–µ.<br />
- –î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis-–∫–æ–º–∞–Ω–¥—ã –≤ Rails console.<br />
- –û—à–∏–±–∫–∏ <code>401 Unauthorized</code> –∏ <code>Failed to open TCP connection</code> –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–∞—Ä–æ–ª—è –∏–ª–∏ —Å–µ—Ç–∏.</p>
<hr /></code></pre>
</body>
</html>
