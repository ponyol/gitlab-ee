<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìÑ ci/secrets/aws_secrets_manager.md</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <pre><code><p><strong>1. –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ</strong><br />
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AWS Secrets Manager –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã –∏ —Ç. –¥.) –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö GitLab, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —Ä–∏—Å–∫ —É—Ç–µ—á–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å–µ–∫—Ä–µ—Ç–∞–º.</p>
<p><strong>2. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</strong>
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ AWS Secrets Manager –≤ CI/CD Job —á–µ—Ä–µ–∑ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ <code>aws_secrets_manager</code>.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ IAM Role –∏–ª–∏ OpenID Connect (OIDC) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤: —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (<code>version_id</code>) –∏–ª–∏ —Å—Ç–∞–¥–∏–∏ –≤–µ—Ä—Å–∏–∏ (<code>version_stage</code>).
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ–∫—Ä–µ—Ç–∞–º –≤ –¥—Ä—É–≥–∏—Ö AWS –∞–∫–∫–∞—É–Ω—Ç–∞—Ö –ø–æ ARN.
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Ä–µ–≥–∏–æ–Ω, —Ä–æ–ª—å) –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤.
- –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å <code>secret_id#field</code> –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ –ø–æ–ª–Ω–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞, —Ç–∞–∫ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π JSON-—Å–µ–∫—Ä–µ—Ç–æ–≤.</p>
<p><strong>3. –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã</strong>
- –¢—Ä–µ–±—É–µ—Ç—Å—è GitLab Premium –∏–ª–∏ Ultimate.
- –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞—á–∏–Ω–∞—è —Å GitLab 18.3 (–¥–æ —ç—Ç–æ–≥–æ –±—ã–ª–∞ –≤–∫–ª—é—á–µ–Ω–∞ —Ñ–ª–∞–≥–æ–º <code>ci_aws_secrets_manager</code>).
- –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Kubernetes executor –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å IAM Role –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ä–∞–Ω–Ω–µ—Ä–æ–≤.
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OpenID Connect —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Federated Identity –≤ AWS.
- –î–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ IAM Role –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã —É —Ä–∞–Ω–Ω–µ—Ä–∞ –±—ã–ª –¥–æ—Å—Ç—É–ø –∫ EC2 IMDS ‚Äî –∏–Ω–∞—á–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ "no EC2 IMDS role found".
- –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö, –ø—É—Ç—å –∫ –∫–æ—Ç–æ—Ä—ã–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CI/CD.</p>
<hr /></code></pre>
</body>
</html>
