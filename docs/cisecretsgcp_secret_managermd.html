<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìÑ ci/secrets/gcp_secret_manager.md</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <pre><code><p><strong>–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ</strong><br />
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GCP Secret Manager –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Google Cloud –≤ GitLab CI/CD pipeline –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –≤ –≤–∏–¥–µ –æ–±—ã—á–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</strong><br />
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ GCP Secret Manager –≤ CI/CD jobs —á–µ—Ä–µ–∑ ID token –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.<br />
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Workload Identity Federation (WIF) –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ GCP —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç GitLab.<br />
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é —Å–µ–∫—Ä–µ—Ç–∞ –≤ GCP Secret Manager (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî <code>latest</code>).<br />
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ–∫—Ä–µ—Ç–∞–º –≤ –¥—Ä—É–≥–æ–º GCP –ø—Ä–æ–µ–∫—Ç–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º fully-qualified –∏–º–µ–Ω–∏.<br />
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab Runner –≤–µ—Ä—Å–∏–∏ 16.8 –∏ –≤—ã—à–µ.</p>
<p><strong>–í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã</strong><br />
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—Ü–µ–Ω–∑–∏—è <strong>Premium –∏–ª–∏ Ultimate</strong>.<br />
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ GitLab.com, Self-Managed –∏ Dedicated.<br />
- –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GCP Workload Identity Federation —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏ –º–∞–ø–ø–∏–Ω–≥–æ–º.<br />
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Å–µ–∫—Ä–µ—Ç–∞–º –≤ GCP IAM —Å —Ä–æ–ª—å—é <strong>Secret Manager Secret Accessor</strong>.<br />
- –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö CI/CD –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã: <code>GCP_PROJECT_NUMBER</code>, <code>GCP_WORKLOAD_IDENTITY_FEDERATION_POOL_ID</code> –∏ <code>GCP_WORKLOAD_IDENTITY_FEDERATION_PROVIDER_ID</code>.<br />
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –¥–ª–∏–Ω—É <code>google.subject</code> ‚Äî –Ω–µ –±–æ–ª–µ–µ 127 –±–∞–π—Ç. –î–ª–∏–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –≤–µ—Ç–æ–∫ –∏–ª–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É.<br />
- –û—à–∏–±–∫–∞ "The secrets provider can not be found" –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.<br />
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "no resolver that can handle the secret" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–∞–Ω–Ω–µ—Ä–æ–≤ –≤–µ—Ä—Å–∏–∏ –Ω–∏–∂–µ 16.8.</p>
<hr /></code></pre>
</body>
</html>
